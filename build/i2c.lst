ARM GAS  /tmp/cc57MyNf.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"i2c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_I2C1_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_I2C1_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MX_I2C1_Init:
  27              	.LFB134:
  28              		.file 1 "Core/Src/i2c.c"
   1:Core/Src/i2c.c **** /* USER CODE BEGIN Header */
   2:Core/Src/i2c.c **** /**
   3:Core/Src/i2c.c ****   ******************************************************************************
   4:Core/Src/i2c.c ****   * @file    i2c.c
   5:Core/Src/i2c.c ****   * @brief   This file provides code for the configuration
   6:Core/Src/i2c.c ****   *          of the I2C instances.
   7:Core/Src/i2c.c ****   ******************************************************************************
   8:Core/Src/i2c.c ****   * @attention
   9:Core/Src/i2c.c ****   *
  10:Core/Src/i2c.c ****   * Copyright (c) 2025 STMicroelectronics.
  11:Core/Src/i2c.c ****   * All rights reserved.
  12:Core/Src/i2c.c ****   *
  13:Core/Src/i2c.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:Core/Src/i2c.c ****   * in the root directory of this software component.
  15:Core/Src/i2c.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Core/Src/i2c.c ****   *
  17:Core/Src/i2c.c ****   ******************************************************************************
  18:Core/Src/i2c.c ****   */
  19:Core/Src/i2c.c **** /* USER CODE END Header */
  20:Core/Src/i2c.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/i2c.c **** #include "i2c.h"
  22:Core/Src/i2c.c **** 
  23:Core/Src/i2c.c **** /* USER CODE BEGIN 0 */
  24:Core/Src/i2c.c **** 
  25:Core/Src/i2c.c **** /* USER CODE END 0 */
  26:Core/Src/i2c.c **** 
  27:Core/Src/i2c.c **** I2C_HandleTypeDef hi2c1;
  28:Core/Src/i2c.c **** DMA_HandleTypeDef hdma_i2c1_rx;
  29:Core/Src/i2c.c **** DMA_HandleTypeDef hdma_i2c1_tx;
  30:Core/Src/i2c.c **** 
ARM GAS  /tmp/cc57MyNf.s 			page 2


  31:Core/Src/i2c.c **** /* I2C1 init function */
  32:Core/Src/i2c.c **** void MX_I2C1_Init(void)
  33:Core/Src/i2c.c **** {
  29              		.loc 1 33 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  34:Core/Src/i2c.c **** 
  35:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_Init 0 */
  36:Core/Src/i2c.c **** 
  37:Core/Src/i2c.c ****   /* USER CODE END I2C1_Init 0 */
  38:Core/Src/i2c.c **** 
  39:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_Init 1 */
  40:Core/Src/i2c.c **** 
  41:Core/Src/i2c.c ****   /* USER CODE END I2C1_Init 1 */
  42:Core/Src/i2c.c ****   hi2c1.Instance = I2C1;
  38              		.loc 1 42 3 view .LVU1
  39              		.loc 1 42 18 is_stmt 0 view .LVU2
  40 0002 0B48     		ldr	r0, .L5
  41 0004 0B4B     		ldr	r3, .L5+4
  42 0006 0360     		str	r3, [r0]
  43:Core/Src/i2c.c ****   hi2c1.Init.ClockSpeed = 400000;
  43              		.loc 1 43 3 is_stmt 1 view .LVU3
  44              		.loc 1 43 25 is_stmt 0 view .LVU4
  45 0008 0B4B     		ldr	r3, .L5+8
  46 000a 4360     		str	r3, [r0, #4]
  44:Core/Src/i2c.c ****   hi2c1.Init.DutyCycle = I2C_DUTYCYCLE_2;
  47              		.loc 1 44 3 is_stmt 1 view .LVU5
  48              		.loc 1 44 24 is_stmt 0 view .LVU6
  49 000c 0023     		movs	r3, #0
  50 000e 8360     		str	r3, [r0, #8]
  45:Core/Src/i2c.c ****   hi2c1.Init.OwnAddress1 = 0;
  51              		.loc 1 45 3 is_stmt 1 view .LVU7
  52              		.loc 1 45 26 is_stmt 0 view .LVU8
  53 0010 C360     		str	r3, [r0, #12]
  46:Core/Src/i2c.c ****   hi2c1.Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
  54              		.loc 1 46 3 is_stmt 1 view .LVU9
  55              		.loc 1 46 29 is_stmt 0 view .LVU10
  56 0012 4FF48042 		mov	r2, #16384
  57 0016 0261     		str	r2, [r0, #16]
  47:Core/Src/i2c.c ****   hi2c1.Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
  58              		.loc 1 47 3 is_stmt 1 view .LVU11
  59              		.loc 1 47 30 is_stmt 0 view .LVU12
  60 0018 4361     		str	r3, [r0, #20]
  48:Core/Src/i2c.c ****   hi2c1.Init.OwnAddress2 = 0;
  61              		.loc 1 48 3 is_stmt 1 view .LVU13
  62              		.loc 1 48 26 is_stmt 0 view .LVU14
  63 001a 8361     		str	r3, [r0, #24]
  49:Core/Src/i2c.c ****   hi2c1.Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
  64              		.loc 1 49 3 is_stmt 1 view .LVU15
  65              		.loc 1 49 30 is_stmt 0 view .LVU16
  66 001c C361     		str	r3, [r0, #28]
ARM GAS  /tmp/cc57MyNf.s 			page 3


  50:Core/Src/i2c.c ****   hi2c1.Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
  67              		.loc 1 50 3 is_stmt 1 view .LVU17
  68              		.loc 1 50 28 is_stmt 0 view .LVU18
  69 001e 0362     		str	r3, [r0, #32]
  51:Core/Src/i2c.c ****   if (HAL_I2C_Init(&hi2c1) != HAL_OK)
  70              		.loc 1 51 3 is_stmt 1 view .LVU19
  71              		.loc 1 51 7 is_stmt 0 view .LVU20
  72 0020 FFF7FEFF 		bl	HAL_I2C_Init
  73              	.LVL0:
  74              		.loc 1 51 6 view .LVU21
  75 0024 00B9     		cbnz	r0, .L4
  76              	.L1:
  52:Core/Src/i2c.c ****   {
  53:Core/Src/i2c.c ****     Error_Handler();
  54:Core/Src/i2c.c ****   }
  55:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_Init 2 */
  56:Core/Src/i2c.c **** 
  57:Core/Src/i2c.c ****   /* I2C DMA模式已启用 - 400 KHz Fast Mode + DMA传输 */
  58:Core/Src/i2c.c ****   // 非阻塞DMA模式，与I2S和平共处，CPU占用<5%
  59:Core/Src/i2c.c ****   // 传感器读取使用HAL_I2C_Mem_Read_DMA（非阻塞DMA模式）
  60:Core/Src/i2c.c **** 
  61:Core/Src/i2c.c ****   /* USER CODE END I2C1_Init 2 */
  62:Core/Src/i2c.c **** 
  63:Core/Src/i2c.c **** }
  77              		.loc 1 63 1 view .LVU22
  78 0026 08BD     		pop	{r3, pc}
  79              	.L4:
  53:Core/Src/i2c.c ****   }
  80              		.loc 1 53 5 is_stmt 1 view .LVU23
  81 0028 FFF7FEFF 		bl	Error_Handler
  82              	.LVL1:
  83              		.loc 1 63 1 is_stmt 0 view .LVU24
  84 002c FBE7     		b	.L1
  85              	.L6:
  86 002e 00BF     		.align	2
  87              	.L5:
  88 0030 00000000 		.word	.LANCHOR0
  89 0034 00540040 		.word	1073763328
  90 0038 801A0600 		.word	400000
  91              		.cfi_endproc
  92              	.LFE134:
  94              		.section	.text.HAL_I2C_MspInit,"ax",%progbits
  95              		.align	1
  96              		.global	HAL_I2C_MspInit
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 100              		.fpu fpv4-sp-d16
 102              	HAL_I2C_MspInit:
 103              	.LVL2:
 104              	.LFB135:
  64:Core/Src/i2c.c **** 
  65:Core/Src/i2c.c **** void HAL_I2C_MspInit(I2C_HandleTypeDef* i2cHandle)
  66:Core/Src/i2c.c **** {
 105              		.loc 1 66 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 32
ARM GAS  /tmp/cc57MyNf.s 			page 4


 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		.loc 1 66 1 is_stmt 0 view .LVU26
 110 0000 70B5     		push	{r4, r5, r6, lr}
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 16
 113              		.cfi_offset 4, -16
 114              		.cfi_offset 5, -12
 115              		.cfi_offset 6, -8
 116              		.cfi_offset 14, -4
 117 0002 88B0     		sub	sp, sp, #32
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 48
  67:Core/Src/i2c.c **** 
  68:Core/Src/i2c.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 120              		.loc 1 68 3 is_stmt 1 view .LVU27
 121              		.loc 1 68 20 is_stmt 0 view .LVU28
 122 0004 0023     		movs	r3, #0
 123 0006 0393     		str	r3, [sp, #12]
 124 0008 0493     		str	r3, [sp, #16]
 125 000a 0593     		str	r3, [sp, #20]
 126 000c 0693     		str	r3, [sp, #24]
 127 000e 0793     		str	r3, [sp, #28]
  69:Core/Src/i2c.c ****   if(i2cHandle->Instance==I2C1)
 128              		.loc 1 69 3 is_stmt 1 view .LVU29
 129              		.loc 1 69 15 is_stmt 0 view .LVU30
 130 0010 0268     		ldr	r2, [r0]
 131              		.loc 1 69 5 view .LVU31
 132 0012 394B     		ldr	r3, .L15
 133 0014 9A42     		cmp	r2, r3
 134 0016 01D0     		beq	.L12
 135              	.LVL3:
 136              	.L7:
  70:Core/Src/i2c.c ****   {
  71:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspInit 0 */
  72:Core/Src/i2c.c **** 
  73:Core/Src/i2c.c ****   /* USER CODE END I2C1_MspInit 0 */
  74:Core/Src/i2c.c **** 
  75:Core/Src/i2c.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
  76:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
  77:Core/Src/i2c.c ****     PB6     ------> I2C1_SCL
  78:Core/Src/i2c.c ****     PB9     ------> I2C1_SDA
  79:Core/Src/i2c.c ****     */
  80:Core/Src/i2c.c ****     GPIO_InitStruct.Pin = GPIO_PIN_6|GPIO_PIN_9;
  81:Core/Src/i2c.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
  82:Core/Src/i2c.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  83:Core/Src/i2c.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  84:Core/Src/i2c.c ****     GPIO_InitStruct.Alternate = GPIO_AF4_I2C1;
  85:Core/Src/i2c.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
  86:Core/Src/i2c.c **** 
  87:Core/Src/i2c.c ****     /* I2C1 clock enable */
  88:Core/Src/i2c.c ****     __HAL_RCC_I2C1_CLK_ENABLE();
  89:Core/Src/i2c.c **** 
  90:Core/Src/i2c.c ****     /* I2C1 DMA Init */
  91:Core/Src/i2c.c ****     /* I2C1_RX Init */
  92:Core/Src/i2c.c ****     hdma_i2c1_rx.Instance = DMA1_Stream0;
  93:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Channel = DMA_CHANNEL_1;
  94:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
ARM GAS  /tmp/cc57MyNf.s 			page 5


  95:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
  96:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemInc = DMA_MINC_ENABLE;
  97:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
  98:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
  99:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Mode = DMA_NORMAL;
 100:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Priority = DMA_PRIORITY_MEDIUM;
 101:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 102:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_rx) != HAL_OK)
 103:Core/Src/i2c.c ****     {
 104:Core/Src/i2c.c ****       Error_Handler();
 105:Core/Src/i2c.c ****     }
 106:Core/Src/i2c.c **** 
 107:Core/Src/i2c.c ****     __HAL_LINKDMA(i2cHandle,hdmarx,hdma_i2c1_rx);
 108:Core/Src/i2c.c **** 
 109:Core/Src/i2c.c ****     /* I2C1_TX Init */
 110:Core/Src/i2c.c ****     hdma_i2c1_tx.Instance = DMA1_Stream6;
 111:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Channel = DMA_CHANNEL_1;
 112:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 113:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 114:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemInc = DMA_MINC_ENABLE;
 115:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 116:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 117:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Mode = DMA_NORMAL;
 118:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Priority = DMA_PRIORITY_MEDIUM;
 119:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 120:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_tx) != HAL_OK)
 121:Core/Src/i2c.c ****     {
 122:Core/Src/i2c.c ****       Error_Handler();
 123:Core/Src/i2c.c ****     }
 124:Core/Src/i2c.c **** 
 125:Core/Src/i2c.c ****     __HAL_LINKDMA(i2cHandle,hdmatx,hdma_i2c1_tx);
 126:Core/Src/i2c.c **** 
 127:Core/Src/i2c.c ****     /* I2C1 interrupt Init */
 128:Core/Src/i2c.c ****     HAL_NVIC_SetPriority(I2C1_EV_IRQn, 4, 0);
 129:Core/Src/i2c.c ****     HAL_NVIC_EnableIRQ(I2C1_EV_IRQn);
 130:Core/Src/i2c.c ****     HAL_NVIC_SetPriority(I2C1_ER_IRQn, 4, 0);
 131:Core/Src/i2c.c ****     HAL_NVIC_EnableIRQ(I2C1_ER_IRQn);
 132:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspInit 1 */
 133:Core/Src/i2c.c **** 
 134:Core/Src/i2c.c ****   /* USER CODE END I2C1_MspInit 1 */
 135:Core/Src/i2c.c ****   }
 136:Core/Src/i2c.c **** }
 137              		.loc 1 136 1 view .LVU32
 138 0018 08B0     		add	sp, sp, #32
 139              	.LCFI3:
 140              		.cfi_remember_state
 141              		.cfi_def_cfa_offset 16
 142              		@ sp needed
 143 001a 70BD     		pop	{r4, r5, r6, pc}
 144              	.LVL4:
 145              	.L12:
 146              	.LCFI4:
 147              		.cfi_restore_state
 148              		.loc 1 136 1 view .LVU33
 149 001c 0446     		mov	r4, r0
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 150              		.loc 1 75 5 is_stmt 1 view .LVU34
ARM GAS  /tmp/cc57MyNf.s 			page 6


 151              	.LBB2:
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 152              		.loc 1 75 5 view .LVU35
 153 001e 0025     		movs	r5, #0
 154 0020 0195     		str	r5, [sp, #4]
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 155              		.loc 1 75 5 view .LVU36
 156 0022 364E     		ldr	r6, .L15+4
 157 0024 336B     		ldr	r3, [r6, #48]
 158 0026 43F00203 		orr	r3, r3, #2
 159 002a 3363     		str	r3, [r6, #48]
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 160              		.loc 1 75 5 view .LVU37
 161 002c 336B     		ldr	r3, [r6, #48]
 162 002e 03F00203 		and	r3, r3, #2
 163 0032 0193     		str	r3, [sp, #4]
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 164              		.loc 1 75 5 view .LVU38
 165 0034 019B     		ldr	r3, [sp, #4]
 166              	.LBE2:
  75:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 167              		.loc 1 75 5 view .LVU39
  80:Core/Src/i2c.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
 168              		.loc 1 80 5 view .LVU40
  80:Core/Src/i2c.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
 169              		.loc 1 80 25 is_stmt 0 view .LVU41
 170 0036 4FF41073 		mov	r3, #576
 171 003a 0393     		str	r3, [sp, #12]
  81:Core/Src/i2c.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 172              		.loc 1 81 5 is_stmt 1 view .LVU42
  81:Core/Src/i2c.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 173              		.loc 1 81 26 is_stmt 0 view .LVU43
 174 003c 1223     		movs	r3, #18
 175 003e 0493     		str	r3, [sp, #16]
  82:Core/Src/i2c.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 176              		.loc 1 82 5 is_stmt 1 view .LVU44
  83:Core/Src/i2c.c ****     GPIO_InitStruct.Alternate = GPIO_AF4_I2C1;
 177              		.loc 1 83 5 view .LVU45
  83:Core/Src/i2c.c ****     GPIO_InitStruct.Alternate = GPIO_AF4_I2C1;
 178              		.loc 1 83 27 is_stmt 0 view .LVU46
 179 0040 0323     		movs	r3, #3
 180 0042 0693     		str	r3, [sp, #24]
  84:Core/Src/i2c.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 181              		.loc 1 84 5 is_stmt 1 view .LVU47
  84:Core/Src/i2c.c ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 182              		.loc 1 84 31 is_stmt 0 view .LVU48
 183 0044 0423     		movs	r3, #4
 184 0046 0793     		str	r3, [sp, #28]
  85:Core/Src/i2c.c **** 
 185              		.loc 1 85 5 is_stmt 1 view .LVU49
 186 0048 03A9     		add	r1, sp, #12
 187 004a 2D48     		ldr	r0, .L15+8
 188              	.LVL5:
  85:Core/Src/i2c.c **** 
 189              		.loc 1 85 5 is_stmt 0 view .LVU50
 190 004c FFF7FEFF 		bl	HAL_GPIO_Init
 191              	.LVL6:
ARM GAS  /tmp/cc57MyNf.s 			page 7


  88:Core/Src/i2c.c **** 
 192              		.loc 1 88 5 is_stmt 1 view .LVU51
 193              	.LBB3:
  88:Core/Src/i2c.c **** 
 194              		.loc 1 88 5 view .LVU52
 195 0050 0295     		str	r5, [sp, #8]
  88:Core/Src/i2c.c **** 
 196              		.loc 1 88 5 view .LVU53
 197 0052 336C     		ldr	r3, [r6, #64]
 198 0054 43F40013 		orr	r3, r3, #2097152
 199 0058 3364     		str	r3, [r6, #64]
  88:Core/Src/i2c.c **** 
 200              		.loc 1 88 5 view .LVU54
 201 005a 336C     		ldr	r3, [r6, #64]
 202 005c 03F40013 		and	r3, r3, #2097152
 203 0060 0293     		str	r3, [sp, #8]
  88:Core/Src/i2c.c **** 
 204              		.loc 1 88 5 view .LVU55
 205 0062 029B     		ldr	r3, [sp, #8]
 206              	.LBE3:
  88:Core/Src/i2c.c **** 
 207              		.loc 1 88 5 view .LVU56
  92:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Channel = DMA_CHANNEL_1;
 208              		.loc 1 92 5 view .LVU57
  92:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Channel = DMA_CHANNEL_1;
 209              		.loc 1 92 27 is_stmt 0 view .LVU58
 210 0064 2748     		ldr	r0, .L15+12
 211 0066 284B     		ldr	r3, .L15+16
 212 0068 0360     		str	r3, [r0]
  93:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 213              		.loc 1 93 5 is_stmt 1 view .LVU59
  93:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 214              		.loc 1 93 31 is_stmt 0 view .LVU60
 215 006a 4FF00073 		mov	r3, #33554432
 216 006e 4360     		str	r3, [r0, #4]
  94:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 217              		.loc 1 94 5 is_stmt 1 view .LVU61
  94:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 218              		.loc 1 94 33 is_stmt 0 view .LVU62
 219 0070 8560     		str	r5, [r0, #8]
  95:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemInc = DMA_MINC_ENABLE;
 220              		.loc 1 95 5 is_stmt 1 view .LVU63
  95:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemInc = DMA_MINC_ENABLE;
 221              		.loc 1 95 33 is_stmt 0 view .LVU64
 222 0072 C560     		str	r5, [r0, #12]
  96:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 223              		.loc 1 96 5 is_stmt 1 view .LVU65
  96:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 224              		.loc 1 96 30 is_stmt 0 view .LVU66
 225 0074 4FF48063 		mov	r3, #1024
 226 0078 0361     		str	r3, [r0, #16]
  97:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 227              		.loc 1 97 5 is_stmt 1 view .LVU67
  97:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 228              		.loc 1 97 43 is_stmt 0 view .LVU68
 229 007a 4561     		str	r5, [r0, #20]
  98:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Mode = DMA_NORMAL;
ARM GAS  /tmp/cc57MyNf.s 			page 8


 230              		.loc 1 98 5 is_stmt 1 view .LVU69
  98:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Mode = DMA_NORMAL;
 231              		.loc 1 98 40 is_stmt 0 view .LVU70
 232 007c 8561     		str	r5, [r0, #24]
  99:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Priority = DMA_PRIORITY_MEDIUM;
 233              		.loc 1 99 5 is_stmt 1 view .LVU71
  99:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.Priority = DMA_PRIORITY_MEDIUM;
 234              		.loc 1 99 28 is_stmt 0 view .LVU72
 235 007e C561     		str	r5, [r0, #28]
 100:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 236              		.loc 1 100 5 is_stmt 1 view .LVU73
 100:Core/Src/i2c.c ****     hdma_i2c1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 237              		.loc 1 100 32 is_stmt 0 view .LVU74
 238 0080 4FF48033 		mov	r3, #65536
 239 0084 0362     		str	r3, [r0, #32]
 101:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_rx) != HAL_OK)
 240              		.loc 1 101 5 is_stmt 1 view .LVU75
 101:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_rx) != HAL_OK)
 241              		.loc 1 101 32 is_stmt 0 view .LVU76
 242 0086 4562     		str	r5, [r0, #36]
 102:Core/Src/i2c.c ****     {
 243              		.loc 1 102 5 is_stmt 1 view .LVU77
 102:Core/Src/i2c.c ****     {
 244              		.loc 1 102 9 is_stmt 0 view .LVU78
 245 0088 FFF7FEFF 		bl	HAL_DMA_Init
 246              	.LVL7:
 102:Core/Src/i2c.c ****     {
 247              		.loc 1 102 8 view .LVU79
 248 008c 68BB     		cbnz	r0, .L13
 249              	.L9:
 107:Core/Src/i2c.c **** 
 250              		.loc 1 107 5 is_stmt 1 view .LVU80
 107:Core/Src/i2c.c **** 
 251              		.loc 1 107 5 view .LVU81
 252 008e 1D4B     		ldr	r3, .L15+12
 253 0090 A363     		str	r3, [r4, #56]
 107:Core/Src/i2c.c **** 
 254              		.loc 1 107 5 view .LVU82
 255 0092 9C63     		str	r4, [r3, #56]
 107:Core/Src/i2c.c **** 
 256              		.loc 1 107 5 view .LVU83
 110:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Channel = DMA_CHANNEL_1;
 257              		.loc 1 110 5 view .LVU84
 110:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Channel = DMA_CHANNEL_1;
 258              		.loc 1 110 27 is_stmt 0 view .LVU85
 259 0094 1D48     		ldr	r0, .L15+20
 260 0096 1E4B     		ldr	r3, .L15+24
 261 0098 0360     		str	r3, [r0]
 111:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 262              		.loc 1 111 5 is_stmt 1 view .LVU86
 111:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 263              		.loc 1 111 31 is_stmt 0 view .LVU87
 264 009a 4FF00073 		mov	r3, #33554432
 265 009e 4360     		str	r3, [r0, #4]
 112:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 266              		.loc 1 112 5 is_stmt 1 view .LVU88
 112:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
ARM GAS  /tmp/cc57MyNf.s 			page 9


 267              		.loc 1 112 33 is_stmt 0 view .LVU89
 268 00a0 4023     		movs	r3, #64
 269 00a2 8360     		str	r3, [r0, #8]
 113:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemInc = DMA_MINC_ENABLE;
 270              		.loc 1 113 5 is_stmt 1 view .LVU90
 113:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemInc = DMA_MINC_ENABLE;
 271              		.loc 1 113 33 is_stmt 0 view .LVU91
 272 00a4 0023     		movs	r3, #0
 273 00a6 C360     		str	r3, [r0, #12]
 114:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 274              		.loc 1 114 5 is_stmt 1 view .LVU92
 114:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 275              		.loc 1 114 30 is_stmt 0 view .LVU93
 276 00a8 4FF48062 		mov	r2, #1024
 277 00ac 0261     		str	r2, [r0, #16]
 115:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 278              		.loc 1 115 5 is_stmt 1 view .LVU94
 115:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 279              		.loc 1 115 43 is_stmt 0 view .LVU95
 280 00ae 4361     		str	r3, [r0, #20]
 116:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Mode = DMA_NORMAL;
 281              		.loc 1 116 5 is_stmt 1 view .LVU96
 116:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Mode = DMA_NORMAL;
 282              		.loc 1 116 40 is_stmt 0 view .LVU97
 283 00b0 8361     		str	r3, [r0, #24]
 117:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Priority = DMA_PRIORITY_MEDIUM;
 284              		.loc 1 117 5 is_stmt 1 view .LVU98
 117:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.Priority = DMA_PRIORITY_MEDIUM;
 285              		.loc 1 117 28 is_stmt 0 view .LVU99
 286 00b2 C361     		str	r3, [r0, #28]
 118:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 287              		.loc 1 118 5 is_stmt 1 view .LVU100
 118:Core/Src/i2c.c ****     hdma_i2c1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 288              		.loc 1 118 32 is_stmt 0 view .LVU101
 289 00b4 4FF48032 		mov	r2, #65536
 290 00b8 0262     		str	r2, [r0, #32]
 119:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_tx) != HAL_OK)
 291              		.loc 1 119 5 is_stmt 1 view .LVU102
 119:Core/Src/i2c.c ****     if (HAL_DMA_Init(&hdma_i2c1_tx) != HAL_OK)
 292              		.loc 1 119 32 is_stmt 0 view .LVU103
 293 00ba 4362     		str	r3, [r0, #36]
 120:Core/Src/i2c.c ****     {
 294              		.loc 1 120 5 is_stmt 1 view .LVU104
 120:Core/Src/i2c.c ****     {
 295              		.loc 1 120 9 is_stmt 0 view .LVU105
 296 00bc FFF7FEFF 		bl	HAL_DMA_Init
 297              	.LVL8:
 120:Core/Src/i2c.c ****     {
 298              		.loc 1 120 8 view .LVU106
 299 00c0 B0B9     		cbnz	r0, .L14
 300              	.L10:
 125:Core/Src/i2c.c **** 
 301              		.loc 1 125 5 is_stmt 1 view .LVU107
 125:Core/Src/i2c.c **** 
 302              		.loc 1 125 5 view .LVU108
 303 00c2 124B     		ldr	r3, .L15+20
 304 00c4 6363     		str	r3, [r4, #52]
ARM GAS  /tmp/cc57MyNf.s 			page 10


 125:Core/Src/i2c.c **** 
 305              		.loc 1 125 5 view .LVU109
 306 00c6 9C63     		str	r4, [r3, #56]
 125:Core/Src/i2c.c **** 
 307              		.loc 1 125 5 view .LVU110
 128:Core/Src/i2c.c ****     HAL_NVIC_EnableIRQ(I2C1_EV_IRQn);
 308              		.loc 1 128 5 view .LVU111
 309 00c8 0022     		movs	r2, #0
 310 00ca 0421     		movs	r1, #4
 311 00cc 1F20     		movs	r0, #31
 312 00ce FFF7FEFF 		bl	HAL_NVIC_SetPriority
 313              	.LVL9:
 129:Core/Src/i2c.c ****     HAL_NVIC_SetPriority(I2C1_ER_IRQn, 4, 0);
 314              		.loc 1 129 5 view .LVU112
 315 00d2 1F20     		movs	r0, #31
 316 00d4 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 317              	.LVL10:
 130:Core/Src/i2c.c ****     HAL_NVIC_EnableIRQ(I2C1_ER_IRQn);
 318              		.loc 1 130 5 view .LVU113
 319 00d8 0022     		movs	r2, #0
 320 00da 0421     		movs	r1, #4
 321 00dc 2020     		movs	r0, #32
 322 00de FFF7FEFF 		bl	HAL_NVIC_SetPriority
 323              	.LVL11:
 131:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspInit 1 */
 324              		.loc 1 131 5 view .LVU114
 325 00e2 2020     		movs	r0, #32
 326 00e4 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 327              	.LVL12:
 328              		.loc 1 136 1 is_stmt 0 view .LVU115
 329 00e8 96E7     		b	.L7
 330              	.L13:
 104:Core/Src/i2c.c ****     }
 331              		.loc 1 104 7 is_stmt 1 view .LVU116
 332 00ea FFF7FEFF 		bl	Error_Handler
 333              	.LVL13:
 334 00ee CEE7     		b	.L9
 335              	.L14:
 122:Core/Src/i2c.c ****     }
 336              		.loc 1 122 7 view .LVU117
 337 00f0 FFF7FEFF 		bl	Error_Handler
 338              	.LVL14:
 339 00f4 E5E7     		b	.L10
 340              	.L16:
 341 00f6 00BF     		.align	2
 342              	.L15:
 343 00f8 00540040 		.word	1073763328
 344 00fc 00380240 		.word	1073887232
 345 0100 00040240 		.word	1073873920
 346 0104 00000000 		.word	.LANCHOR1
 347 0108 10600240 		.word	1073897488
 348 010c 00000000 		.word	.LANCHOR2
 349 0110 A0600240 		.word	1073897632
 350              		.cfi_endproc
 351              	.LFE135:
 353              		.section	.text.HAL_I2C_MspDeInit,"ax",%progbits
 354              		.align	1
ARM GAS  /tmp/cc57MyNf.s 			page 11


 355              		.global	HAL_I2C_MspDeInit
 356              		.syntax unified
 357              		.thumb
 358              		.thumb_func
 359              		.fpu fpv4-sp-d16
 361              	HAL_I2C_MspDeInit:
 362              	.LVL15:
 363              	.LFB136:
 137:Core/Src/i2c.c **** 
 138:Core/Src/i2c.c **** void HAL_I2C_MspDeInit(I2C_HandleTypeDef* i2cHandle)
 139:Core/Src/i2c.c **** {
 364              		.loc 1 139 1 view -0
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 0, uses_anonymous_args = 0
 368              		.loc 1 139 1 is_stmt 0 view .LVU119
 369 0000 38B5     		push	{r3, r4, r5, lr}
 370              	.LCFI5:
 371              		.cfi_def_cfa_offset 16
 372              		.cfi_offset 3, -16
 373              		.cfi_offset 4, -12
 374              		.cfi_offset 5, -8
 375              		.cfi_offset 14, -4
 140:Core/Src/i2c.c **** 
 141:Core/Src/i2c.c ****   if(i2cHandle->Instance==I2C1)
 376              		.loc 1 141 3 is_stmt 1 view .LVU120
 377              		.loc 1 141 15 is_stmt 0 view .LVU121
 378 0002 0268     		ldr	r2, [r0]
 379              		.loc 1 141 5 view .LVU122
 380 0004 104B     		ldr	r3, .L21
 381 0006 9A42     		cmp	r2, r3
 382 0008 00D0     		beq	.L20
 383              	.LVL16:
 384              	.L17:
 142:Core/Src/i2c.c ****   {
 143:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspDeInit 0 */
 144:Core/Src/i2c.c **** 
 145:Core/Src/i2c.c ****   /* USER CODE END I2C1_MspDeInit 0 */
 146:Core/Src/i2c.c ****     /* Peripheral clock disable */
 147:Core/Src/i2c.c ****     __HAL_RCC_I2C1_CLK_DISABLE();
 148:Core/Src/i2c.c **** 
 149:Core/Src/i2c.c ****     /**I2C1 GPIO Configuration
 150:Core/Src/i2c.c ****     PB6     ------> I2C1_SCL
 151:Core/Src/i2c.c ****     PB9     ------> I2C1_SDA
 152:Core/Src/i2c.c ****     */
 153:Core/Src/i2c.c ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_6);
 154:Core/Src/i2c.c **** 
 155:Core/Src/i2c.c ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_9);
 156:Core/Src/i2c.c **** 
 157:Core/Src/i2c.c ****     /* I2C1 DMA DeInit */
 158:Core/Src/i2c.c ****     HAL_DMA_DeInit(i2cHandle->hdmarx);
 159:Core/Src/i2c.c ****     HAL_DMA_DeInit(i2cHandle->hdmatx);
 160:Core/Src/i2c.c **** 
 161:Core/Src/i2c.c ****     /* I2C1 interrupt Deinit */
 162:Core/Src/i2c.c ****     HAL_NVIC_DisableIRQ(I2C1_EV_IRQn);
 163:Core/Src/i2c.c ****     HAL_NVIC_DisableIRQ(I2C1_ER_IRQn);
 164:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspDeInit 1 */
ARM GAS  /tmp/cc57MyNf.s 			page 12


 165:Core/Src/i2c.c **** 
 166:Core/Src/i2c.c ****   /* USER CODE END I2C1_MspDeInit 1 */
 167:Core/Src/i2c.c ****   }
 168:Core/Src/i2c.c **** }
 385              		.loc 1 168 1 view .LVU123
 386 000a 38BD     		pop	{r3, r4, r5, pc}
 387              	.LVL17:
 388              	.L20:
 389              		.loc 1 168 1 view .LVU124
 390 000c 0446     		mov	r4, r0
 147:Core/Src/i2c.c **** 
 391              		.loc 1 147 5 is_stmt 1 view .LVU125
 392 000e 0F4A     		ldr	r2, .L21+4
 393 0010 136C     		ldr	r3, [r2, #64]
 394 0012 23F40013 		bic	r3, r3, #2097152
 395 0016 1364     		str	r3, [r2, #64]
 153:Core/Src/i2c.c **** 
 396              		.loc 1 153 5 view .LVU126
 397 0018 0D4D     		ldr	r5, .L21+8
 398 001a 4021     		movs	r1, #64
 399 001c 2846     		mov	r0, r5
 400              	.LVL18:
 153:Core/Src/i2c.c **** 
 401              		.loc 1 153 5 is_stmt 0 view .LVU127
 402 001e FFF7FEFF 		bl	HAL_GPIO_DeInit
 403              	.LVL19:
 155:Core/Src/i2c.c **** 
 404              		.loc 1 155 5 is_stmt 1 view .LVU128
 405 0022 4FF40071 		mov	r1, #512
 406 0026 2846     		mov	r0, r5
 407 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 408              	.LVL20:
 158:Core/Src/i2c.c ****     HAL_DMA_DeInit(i2cHandle->hdmatx);
 409              		.loc 1 158 5 view .LVU129
 410 002c A06B     		ldr	r0, [r4, #56]
 411 002e FFF7FEFF 		bl	HAL_DMA_DeInit
 412              	.LVL21:
 159:Core/Src/i2c.c **** 
 413              		.loc 1 159 5 view .LVU130
 414 0032 606B     		ldr	r0, [r4, #52]
 415 0034 FFF7FEFF 		bl	HAL_DMA_DeInit
 416              	.LVL22:
 162:Core/Src/i2c.c ****     HAL_NVIC_DisableIRQ(I2C1_ER_IRQn);
 417              		.loc 1 162 5 view .LVU131
 418 0038 1F20     		movs	r0, #31
 419 003a FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 420              	.LVL23:
 163:Core/Src/i2c.c ****   /* USER CODE BEGIN I2C1_MspDeInit 1 */
 421              		.loc 1 163 5 view .LVU132
 422 003e 2020     		movs	r0, #32
 423 0040 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 424              	.LVL24:
 425              		.loc 1 168 1 is_stmt 0 view .LVU133
 426 0044 E1E7     		b	.L17
 427              	.L22:
 428 0046 00BF     		.align	2
 429              	.L21:
ARM GAS  /tmp/cc57MyNf.s 			page 13


 430 0048 00540040 		.word	1073763328
 431 004c 00380240 		.word	1073887232
 432 0050 00040240 		.word	1073873920
 433              		.cfi_endproc
 434              	.LFE136:
 436              		.section	.text.I2C_BusRecover,"ax",%progbits
 437              		.align	1
 438              		.global	I2C_BusRecover
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu fpv4-sp-d16
 444              	I2C_BusRecover:
 445              	.LFB137:
 169:Core/Src/i2c.c **** 
 170:Core/Src/i2c.c **** /* USER CODE BEGIN 1 */
 171:Core/Src/i2c.c **** 
 172:Core/Src/i2c.c **** /**
 173:Core/Src/i2c.c ****  * @brief  Recover I2C bus from stuck state
 174:Core/Src/i2c.c ****  * @note   Call this if I2C communication fails repeatedly
 175:Core/Src/i2c.c ****  * @retval None
 176:Core/Src/i2c.c ****  */
 177:Core/Src/i2c.c **** void I2C_BusRecover(void)
 178:Core/Src/i2c.c **** {
 446              		.loc 1 178 1 is_stmt 1 view -0
 447              		.cfi_startproc
 448              		@ args = 0, pretend = 0, frame = 24
 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450 0000 30B5     		push	{r4, r5, lr}
 451              	.LCFI6:
 452              		.cfi_def_cfa_offset 12
 453              		.cfi_offset 4, -12
 454              		.cfi_offset 5, -8
 455              		.cfi_offset 14, -4
 456 0002 87B0     		sub	sp, sp, #28
 457              	.LCFI7:
 458              		.cfi_def_cfa_offset 40
 179:Core/Src/i2c.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 459              		.loc 1 179 3 view .LVU135
 460              		.loc 1 179 20 is_stmt 0 view .LVU136
 461 0004 0024     		movs	r4, #0
 462 0006 0194     		str	r4, [sp, #4]
 463 0008 0294     		str	r4, [sp, #8]
 464 000a 0394     		str	r4, [sp, #12]
 465 000c 0494     		str	r4, [sp, #16]
 466 000e 0594     		str	r4, [sp, #20]
 180:Core/Src/i2c.c **** 
 181:Core/Src/i2c.c ****   // Disable I2C peripheral
 182:Core/Src/i2c.c ****   __HAL_RCC_I2C1_CLK_DISABLE();
 467              		.loc 1 182 3 is_stmt 1 view .LVU137
 468 0010 2E4A     		ldr	r2, .L27
 469 0012 136C     		ldr	r3, [r2, #64]
 470 0014 23F40013 		bic	r3, r3, #2097152
 471 0018 1364     		str	r3, [r2, #64]
 183:Core/Src/i2c.c **** 
 184:Core/Src/i2c.c ****   // Configure SCL and SDA as GPIO outputs
 185:Core/Src/i2c.c ****   GPIO_InitStruct.Pin = GPIO_PIN_6 | GPIO_PIN_9;
ARM GAS  /tmp/cc57MyNf.s 			page 14


 472              		.loc 1 185 3 view .LVU138
 473              		.loc 1 185 23 is_stmt 0 view .LVU139
 474 001a 4FF41073 		mov	r3, #576
 475 001e 0193     		str	r3, [sp, #4]
 186:Core/Src/i2c.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_OD;
 476              		.loc 1 186 3 is_stmt 1 view .LVU140
 477              		.loc 1 186 24 is_stmt 0 view .LVU141
 478 0020 1123     		movs	r3, #17
 479 0022 0293     		str	r3, [sp, #8]
 187:Core/Src/i2c.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 480              		.loc 1 187 3 is_stmt 1 view .LVU142
 188:Core/Src/i2c.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 481              		.loc 1 188 3 view .LVU143
 482              		.loc 1 188 25 is_stmt 0 view .LVU144
 483 0024 0223     		movs	r3, #2
 484 0026 0493     		str	r3, [sp, #16]
 189:Core/Src/i2c.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 485              		.loc 1 189 3 is_stmt 1 view .LVU145
 486 0028 01A9     		add	r1, sp, #4
 487 002a 2948     		ldr	r0, .L27+4
 488 002c FFF7FEFF 		bl	HAL_GPIO_Init
 489              	.LVL25:
 190:Core/Src/i2c.c **** 
 191:Core/Src/i2c.c ****   // Generate 9 clock pulses to clear any stuck slave
 192:Core/Src/i2c.c ****   for (int i = 0; i < 9; i++) {
 490              		.loc 1 192 3 view .LVU146
 491              	.LBB4:
 492              		.loc 1 192 8 view .LVU147
 493              		.loc 1 192 3 is_stmt 0 view .LVU148
 494 0030 11E0     		b	.L24
 495              	.LVL26:
 496              	.L25:
 193:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_RESET);  // SCL low
 497              		.loc 1 193 5 is_stmt 1 discriminator 3 view .LVU149
 498 0032 274D     		ldr	r5, .L27+4
 499 0034 0022     		movs	r2, #0
 500 0036 4021     		movs	r1, #64
 501 0038 2846     		mov	r0, r5
 502 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 503              	.LVL27:
 194:Core/Src/i2c.c ****     HAL_Delay(1);
 504              		.loc 1 194 5 discriminator 3 view .LVU150
 505 003e 0120     		movs	r0, #1
 506 0040 FFF7FEFF 		bl	HAL_Delay
 507              	.LVL28:
 195:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_SET);    // SCL high
 508              		.loc 1 195 5 discriminator 3 view .LVU151
 509 0044 0122     		movs	r2, #1
 510 0046 4021     		movs	r1, #64
 511 0048 2846     		mov	r0, r5
 512 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 513              	.LVL29:
 196:Core/Src/i2c.c ****     HAL_Delay(1);
 514              		.loc 1 196 5 discriminator 3 view .LVU152
 515 004e 0120     		movs	r0, #1
 516 0050 FFF7FEFF 		bl	HAL_Delay
 517              	.LVL30:
ARM GAS  /tmp/cc57MyNf.s 			page 15


 192:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_RESET);  // SCL low
 518              		.loc 1 192 26 discriminator 3 view .LVU153
 192:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_RESET);  // SCL low
 519              		.loc 1 192 27 is_stmt 0 discriminator 3 view .LVU154
 520 0054 0134     		adds	r4, r4, #1
 521              	.LVL31:
 522              	.L24:
 192:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_RESET);  // SCL low
 523              		.loc 1 192 19 is_stmt 1 discriminator 1 view .LVU155
 192:Core/Src/i2c.c ****     HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_RESET);  // SCL low
 524              		.loc 1 192 3 is_stmt 0 discriminator 1 view .LVU156
 525 0056 082C     		cmp	r4, #8
 526 0058 EBDD     		ble	.L25
 527              	.LBE4:
 197:Core/Src/i2c.c ****   }
 198:Core/Src/i2c.c **** 
 199:Core/Src/i2c.c ****   // Send STOP condition
 200:Core/Src/i2c.c ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_9, GPIO_PIN_RESET);  // SDA low
 528              		.loc 1 200 3 is_stmt 1 view .LVU157
 529 005a 1D4C     		ldr	r4, .L27+4
 530              	.LVL32:
 531              		.loc 1 200 3 is_stmt 0 view .LVU158
 532 005c 0022     		movs	r2, #0
 533 005e 4FF40071 		mov	r1, #512
 534 0062 2046     		mov	r0, r4
 535 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 536              	.LVL33:
 201:Core/Src/i2c.c ****   HAL_Delay(1);
 537              		.loc 1 201 3 is_stmt 1 view .LVU159
 538 0068 0120     		movs	r0, #1
 539 006a FFF7FEFF 		bl	HAL_Delay
 540              	.LVL34:
 202:Core/Src/i2c.c ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_6, GPIO_PIN_SET);    // SCL high
 541              		.loc 1 202 3 view .LVU160
 542 006e 0122     		movs	r2, #1
 543 0070 4021     		movs	r1, #64
 544 0072 2046     		mov	r0, r4
 545 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 546              	.LVL35:
 203:Core/Src/i2c.c ****   HAL_Delay(1);
 547              		.loc 1 203 3 view .LVU161
 548 0078 0120     		movs	r0, #1
 549 007a FFF7FEFF 		bl	HAL_Delay
 550              	.LVL36:
 204:Core/Src/i2c.c ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_9, GPIO_PIN_SET);    // SDA high (STOP)
 551              		.loc 1 204 3 view .LVU162
 552 007e 0122     		movs	r2, #1
 553 0080 4FF40071 		mov	r1, #512
 554 0084 2046     		mov	r0, r4
 555 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 556              	.LVL37:
 205:Core/Src/i2c.c ****   HAL_Delay(1);
 557              		.loc 1 205 3 view .LVU163
 558 008a 0120     		movs	r0, #1
 559 008c FFF7FEFF 		bl	HAL_Delay
 560              	.LVL38:
 206:Core/Src/i2c.c **** 
ARM GAS  /tmp/cc57MyNf.s 			page 16


 207:Core/Src/i2c.c ****   // Reconfigure as I2C
 208:Core/Src/i2c.c ****   GPIO_InitStruct.Pin = GPIO_PIN_6 | GPIO_PIN_9;
 561              		.loc 1 208 3 view .LVU164
 562              		.loc 1 208 23 is_stmt 0 view .LVU165
 563 0090 4FF41073 		mov	r3, #576
 564 0094 0193     		str	r3, [sp, #4]
 209:Core/Src/i2c.c ****   GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
 565              		.loc 1 209 3 is_stmt 1 view .LVU166
 566              		.loc 1 209 24 is_stmt 0 view .LVU167
 567 0096 1223     		movs	r3, #18
 568 0098 0293     		str	r3, [sp, #8]
 210:Core/Src/i2c.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
 569              		.loc 1 210 3 is_stmt 1 view .LVU168
 570              		.loc 1 210 24 is_stmt 0 view .LVU169
 571 009a 0025     		movs	r5, #0
 572 009c 0395     		str	r5, [sp, #12]
 211:Core/Src/i2c.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 573              		.loc 1 211 3 is_stmt 1 view .LVU170
 574              		.loc 1 211 25 is_stmt 0 view .LVU171
 575 009e 0323     		movs	r3, #3
 576 00a0 0493     		str	r3, [sp, #16]
 212:Core/Src/i2c.c ****   GPIO_InitStruct.Alternate = GPIO_AF4_I2C1;
 577              		.loc 1 212 3 is_stmt 1 view .LVU172
 578              		.loc 1 212 29 is_stmt 0 view .LVU173
 579 00a2 0423     		movs	r3, #4
 580 00a4 0593     		str	r3, [sp, #20]
 213:Core/Src/i2c.c ****   HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 581              		.loc 1 213 3 is_stmt 1 view .LVU174
 582 00a6 0DEB0301 		add	r1, sp, r3
 583 00aa 2046     		mov	r0, r4
 584 00ac FFF7FEFF 		bl	HAL_GPIO_Init
 585              	.LVL39:
 214:Core/Src/i2c.c **** 
 215:Core/Src/i2c.c ****   // Re-enable I2C peripheral
 216:Core/Src/i2c.c ****   __HAL_RCC_I2C1_CLK_ENABLE();
 586              		.loc 1 216 3 view .LVU175
 587              	.LBB5:
 588              		.loc 1 216 3 view .LVU176
 589 00b0 0095     		str	r5, [sp]
 590              		.loc 1 216 3 view .LVU177
 591 00b2 064B     		ldr	r3, .L27
 592 00b4 1A6C     		ldr	r2, [r3, #64]
 593 00b6 42F40012 		orr	r2, r2, #2097152
 594 00ba 1A64     		str	r2, [r3, #64]
 595              		.loc 1 216 3 view .LVU178
 596 00bc 1B6C     		ldr	r3, [r3, #64]
 597 00be 03F40013 		and	r3, r3, #2097152
 598 00c2 0093     		str	r3, [sp]
 599              		.loc 1 216 3 view .LVU179
 600 00c4 009B     		ldr	r3, [sp]
 601              	.LBE5:
 602              		.loc 1 216 3 view .LVU180
 217:Core/Src/i2c.c **** }
 603              		.loc 1 217 1 is_stmt 0 view .LVU181
 604 00c6 07B0     		add	sp, sp, #28
 605              	.LCFI8:
 606              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cc57MyNf.s 			page 17


 607              		@ sp needed
 608 00c8 30BD     		pop	{r4, r5, pc}
 609              	.L28:
 610 00ca 00BF     		.align	2
 611              	.L27:
 612 00cc 00380240 		.word	1073887232
 613 00d0 00040240 		.word	1073873920
 614              		.cfi_endproc
 615              	.LFE137:
 617              		.global	hdma_i2c1_tx
 618              		.global	hdma_i2c1_rx
 619              		.global	hi2c1
 620              		.section	.bss.hdma_i2c1_rx,"aw",%nobits
 621              		.align	2
 622              		.set	.LANCHOR1,. + 0
 625              	hdma_i2c1_rx:
 626 0000 00000000 		.space	96
 626      00000000 
 626      00000000 
 626      00000000 
 626      00000000 
 627              		.section	.bss.hdma_i2c1_tx,"aw",%nobits
 628              		.align	2
 629              		.set	.LANCHOR2,. + 0
 632              	hdma_i2c1_tx:
 633 0000 00000000 		.space	96
 633      00000000 
 633      00000000 
 633      00000000 
 633      00000000 
 634              		.section	.bss.hi2c1,"aw",%nobits
 635              		.align	2
 636              		.set	.LANCHOR0,. + 0
 639              	hi2c1:
 640 0000 00000000 		.space	84
 640      00000000 
 640      00000000 
 640      00000000 
 640      00000000 
 641              		.text
 642              	.Letext0:
 643              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 644              		.file 3 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 645              		.file 4 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 646              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 647              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 648              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 649              		.file 8 "Core/Inc/i2c.h"
 650              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 651              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 652              		.file 11 "Core/Inc/main.h"
ARM GAS  /tmp/cc57MyNf.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 i2c.c
     /tmp/cc57MyNf.s:18     .text.MX_I2C1_Init:0000000000000000 $t
     /tmp/cc57MyNf.s:26     .text.MX_I2C1_Init:0000000000000000 MX_I2C1_Init
     /tmp/cc57MyNf.s:88     .text.MX_I2C1_Init:0000000000000030 $d
     /tmp/cc57MyNf.s:95     .text.HAL_I2C_MspInit:0000000000000000 $t
     /tmp/cc57MyNf.s:102    .text.HAL_I2C_MspInit:0000000000000000 HAL_I2C_MspInit
     /tmp/cc57MyNf.s:343    .text.HAL_I2C_MspInit:00000000000000f8 $d
     /tmp/cc57MyNf.s:354    .text.HAL_I2C_MspDeInit:0000000000000000 $t
     /tmp/cc57MyNf.s:361    .text.HAL_I2C_MspDeInit:0000000000000000 HAL_I2C_MspDeInit
     /tmp/cc57MyNf.s:430    .text.HAL_I2C_MspDeInit:0000000000000048 $d
     /tmp/cc57MyNf.s:437    .text.I2C_BusRecover:0000000000000000 $t
     /tmp/cc57MyNf.s:444    .text.I2C_BusRecover:0000000000000000 I2C_BusRecover
     /tmp/cc57MyNf.s:612    .text.I2C_BusRecover:00000000000000cc $d
     /tmp/cc57MyNf.s:632    .bss.hdma_i2c1_tx:0000000000000000 hdma_i2c1_tx
     /tmp/cc57MyNf.s:625    .bss.hdma_i2c1_rx:0000000000000000 hdma_i2c1_rx
     /tmp/cc57MyNf.s:639    .bss.hi2c1:0000000000000000 hi2c1
     /tmp/cc57MyNf.s:621    .bss.hdma_i2c1_rx:0000000000000000 $d
     /tmp/cc57MyNf.s:628    .bss.hdma_i2c1_tx:0000000000000000 $d
     /tmp/cc57MyNf.s:635    .bss.hi2c1:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Init
Error_Handler
HAL_GPIO_Init
HAL_DMA_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_DMA_DeInit
HAL_NVIC_DisableIRQ
HAL_GPIO_WritePin
HAL_Delay
