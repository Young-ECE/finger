ARM GAS  /tmp/cclqLhTN.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"my_application.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.My_Application_Init.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 5247425F 		.ascii	"RGB_LED_Init...\012\000"
  20      4C45445F 
  20      496E6974 
  20      2E2E2E0A 
  20      00
  21 0011 000000   		.align	2
  22              	.LC1:
  23 0014 5247425F 		.ascii	"RGB_LED_Init OK\012\000"
  23      4C45445F 
  23      496E6974 
  23      204F4B0A 
  23      00
  24 0025 000000   		.align	2
  25              	.LC2:
  26 0028 494E4954 		.ascii	"INIT:VCNL4040...\012\000"
  26      3A56434E 
  26      4C343034 
  26      302E2E2E 
  26      0A00
  27 003a 0000     		.align	2
  28              	.LC3:
  29 003c 494E4954 		.ascii	"INIT:VCNL4040 OK\012\000"
  29      3A56434E 
  29      4C343034 
  29      30204F4B 
  29      0A00
  30 004e 0000     		.align	2
  31              	.LC4:
  32 0050 494E4954 		.ascii	"INIT:ICM42688...\012\000"
  32      3A49434D 
  32      34323638 
  32      382E2E2E 
  32      0A00
  33 0062 0000     		.align	2
  34              	.LC5:
  35 0064 494E4954 		.ascii	"INIT:ICM42688 OK\012\000"
  35      3A49434D 
  35      34323638 
ARM GAS  /tmp/cclqLhTN.s 			page 2


  35      38204F4B 
  35      0A00
  36 0076 0000     		.align	2
  37              	.LC6:
  38 0078 494E4954 		.ascii	"INIT:BME280[%d] SKIPPED (damaged)\012\000"
  38      3A424D45 
  38      3238305B 
  38      25645D20 
  38      534B4950 
  39 009b 00       		.align	2
  40              	.LC7:
  41 009c 494E4954 		.ascii	"INIT:BME280[%d]...\012\000"
  41      3A424D45 
  41      3238305B 
  41      25645D2E 
  41      2E2E0A00 
  42              		.align	2
  43              	.LC8:
  44 00b0 494E4954 		.ascii	"INIT:BME280[%d] OK\012\000"
  44      3A424D45 
  44      3238305B 
  44      25645D20 
  44      4F4B0A00 
  45              		.align	2
  46              	.LC9:
  47 00c4 494E4954 		.ascii	"INIT:MICROPHONE...\012\000"
  47      3A4D4943 
  47      524F5048 
  47      4F4E452E 
  47      2E2E0A00 
  48              		.align	2
  49              	.LC10:
  50 00d8 494E4954 		.ascii	"INIT:MICROPHONE OK\012\000"
  50      3A4D4943 
  50      524F5048 
  50      4F4E4520 
  50      4F4B0A00 
  51              		.align	2
  52              	.LC11:
  53 00ec 3D3D3D3D 		.ascii	"========== ALL SENSORS READY ==========\012\000"
  53      3D3D3D3D 
  53      3D3D2041 
  53      4C4C2053 
  53      454E534F 
  54              		.section	.text.My_Application_Init,"ax",%progbits
  55              		.align	1
  56              		.global	My_Application_Init
  57              		.arch armv7e-m
  58              		.syntax unified
  59              		.thumb
  60              		.thumb_func
  61              		.fpu fpv4-sp-d16
  63              	My_Application_Init:
  64              	.LFB138:
  65              		.file 1 "Core/Src/my_application.c"
   1:Core/Src/my_application.c **** /* USER CODE BEGIN Header */
   2:Core/Src/my_application.c **** /**
ARM GAS  /tmp/cclqLhTN.s 			page 3


   3:Core/Src/my_application.c ****   ******************************************************************************
   4:Core/Src/my_application.c ****   * @file           : my_main.c
   5:Core/Src/my_application.c ****   * @brief          : Application sensor logic implementation
   6:Core/Src/my_application.c ****   ******************************************************************************
   7:Core/Src/my_application.c ****   * @attention
   8:Core/Src/my_application.c ****   *
   9:Core/Src/my_application.c ****   * This file contains all user-defined sensor initialization and data
  10:Core/Src/my_application.c ****   * acquisition logic, separated from CubeMX-generated main.c framework.
  11:Core/Src/my_application.c ****   *
  12:Core/Src/my_application.c ****   ******************************************************************************
  13:Core/Src/my_application.c ****   */
  14:Core/Src/my_application.c **** /* USER CODE END Header */
  15:Core/Src/my_application.c **** 
  16:Core/Src/my_application.c **** /* Includes ------------------------------------------------------------------*/
  17:Core/Src/my_application.c **** #include "my_application.h"
  18:Core/Src/my_application.c **** #include <stdarg.h>
  19:Core/Src/my_application.c **** #include <string.h>
  20:Core/Src/my_application.c **** #include <stdio.h>
  21:Core/Src/my_application.c **** #include <stdint.h>
  22:Core/Src/my_application.c **** #include <stdlib.h>
  23:Core/Src/my_application.c **** #include "dma.h"
  24:Core/Src/my_application.c **** #include "i2c.h"
  25:Core/Src/my_application.c **** #include "i2s.h"
  26:Core/Src/my_application.c **** #include "usart.h"
  27:Core/Src/my_application.c **** #include "usb_device.h"
  28:Core/Src/my_application.c **** #include "gpio.h"
  29:Core/Src/my_application.c **** #include "vcnl4040_sensor.h"
  30:Core/Src/my_application.c **** #include "ens160_sensor.h"
  31:Core/Src/my_application.c **** #include "humidity_temp_sensor.h"
  32:Core/Src/my_application.c **** #include "microphone_sensor.h"
  33:Core/Src/my_application.c **** #include "icm42688_sensor.h"
  34:Core/Src/my_application.c **** #include "methods.h"
  35:Core/Src/my_application.c **** #include "i2c_error_handler.h"
  36:Core/Src/my_application.c **** #include "i2c_dma_manager.h"
  37:Core/Src/my_application.c **** 
  38:Core/Src/my_application.c **** /* Private variables ---------------------------------------------------------*/
  39:Core/Src/my_application.c **** extern I2C_HandleTypeDef hi2c1;
  40:Core/Src/my_application.c **** extern I2S_HandleTypeDef hi2s1;
  41:Core/Src/my_application.c **** extern UART_HandleTypeDef huart1;
  42:Core/Src/my_application.c **** 
  43:Core/Src/my_application.c **** VCNL4040_HandleTypeDef vcnl4040;
  44:Core/Src/my_application.c **** static BME280_HandleTypeDef bme[8];  // 8x BME280 sensors via TCA9548A
  45:Core/Src/my_application.c **** ICM42688_HandleTypeDef icm42688;
  46:Core/Src/my_application.c **** MIC_HandleTypeDef mic;
  47:Core/Src/my_application.c **** 
  48:Core/Src/my_application.c **** /* Public functions ----------------------------------------------------------*/
  49:Core/Src/my_application.c **** 
  50:Core/Src/my_application.c **** /**
  51:Core/Src/my_application.c ****   * @brief  Initialize all sensors and peripherals
  52:Core/Src/my_application.c ****   * @retval None
  53:Core/Src/my_application.c ****   */
  54:Core/Src/my_application.c **** void My_Application_Init(void)
  55:Core/Src/my_application.c **** {
  66              		.loc 1 55 1 view -0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cclqLhTN.s 			page 4


  70 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  71              	.LCFI0:
  72              		.cfi_def_cfa_offset 24
  73              		.cfi_offset 4, -24
  74              		.cfi_offset 5, -20
  75              		.cfi_offset 6, -16
  76              		.cfi_offset 7, -12
  77              		.cfi_offset 8, -8
  78              		.cfi_offset 14, -4
  79 0004 82B0     		sub	sp, sp, #8
  80              	.LCFI1:
  81              		.cfi_def_cfa_offset 32
  56:Core/Src/my_application.c ****   // ========== 传感器逐个测试 ==========
  57:Core/Src/my_application.c ****   static char msg[128];  // 声明为static避免栈溢出
  82              		.loc 1 57 3 view .LVU1
  58:Core/Src/my_application.c **** 
  59:Core/Src/my_application.c ****   strcpy(msg, "RGB_LED_Init...\n");
  83              		.loc 1 59 3 view .LVU2
  84 0006 744C     		ldr	r4, .L9
  85 0008 2546     		mov	r5, r4
  86 000a 744E     		ldr	r6, .L9+4
  87 000c 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
  88 000e 0FC5     		stmia	r5!, {r0, r1, r2, r3}
  89 0010 3368     		ldr	r3, [r6]
  90 0012 2B70     		strb	r3, [r5]
  60:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
  91              		.loc 1 60 3 view .LVU3
  92              		.loc 1 60 34 is_stmt 0 view .LVU4
  93 0014 2046     		mov	r0, r4
  94 0016 FFF7FEFF 		bl	strlen
  95              	.LVL0:
  96              		.loc 1 60 3 view .LVU5
  97 001a 81B2     		uxth	r1, r0
  98 001c 2046     		mov	r0, r4
  99 001e FFF7FEFF 		bl	CDC_Transmit_FS
 100              	.LVL1:
  61:Core/Src/my_application.c ****   RGB_LED_Init();
 101              		.loc 1 61 3 is_stmt 1 view .LVU6
 102 0022 FFF7FEFF 		bl	RGB_LED_Init
 103              	.LVL2:
  62:Core/Src/my_application.c ****   strcpy(msg, "RGB_LED_Init OK\n");
 104              		.loc 1 62 3 view .LVU7
 105 0026 2746     		mov	r7, r4
 106 0028 6D4E     		ldr	r6, .L9+8
 107 002a 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 108 002c 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 109 002e 3368     		ldr	r3, [r6]
 110 0030 2B70     		strb	r3, [r5]
  63:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 111              		.loc 1 63 3 view .LVU8
 112              		.loc 1 63 34 is_stmt 0 view .LVU9
 113 0032 2046     		mov	r0, r4
 114 0034 FFF7FEFF 		bl	strlen
 115              	.LVL3:
 116              		.loc 1 63 3 view .LVU10
 117 0038 81B2     		uxth	r1, r0
 118 003a 2046     		mov	r0, r4
ARM GAS  /tmp/cclqLhTN.s 			page 5


 119 003c FFF7FEFF 		bl	CDC_Transmit_FS
 120              	.LVL4:
  64:Core/Src/my_application.c ****   HAL_Delay(1000);  // 等待USB枚举完成
 121              		.loc 1 64 3 is_stmt 1 view .LVU11
 122 0040 4FF47A70 		mov	r0, #1000
 123 0044 FFF7FEFF 		bl	HAL_Delay
 124              	.LVL5:
  65:Core/Src/my_application.c **** 
  66:Core/Src/my_application.c ****   // Step 1: 初始化VCNL4040
  67:Core/Src/my_application.c ****   strcpy(msg, "INIT:VCNL4040...\n");
 125              		.loc 1 67 3 view .LVU12
 126 0048 2746     		mov	r7, r4
 127 004a 664E     		ldr	r6, .L9+12
 128 004c 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 129 004e 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 130 0050 3368     		ldr	r3, [r6]
 131 0052 2B80     		strh	r3, [r5]	@ movhi
  68:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 132              		.loc 1 68 3 view .LVU13
 133              		.loc 1 68 34 is_stmt 0 view .LVU14
 134 0054 2046     		mov	r0, r4
 135 0056 FFF7FEFF 		bl	strlen
 136              	.LVL6:
 137              		.loc 1 68 3 view .LVU15
 138 005a 81B2     		uxth	r1, r0
 139 005c 2046     		mov	r0, r4
 140 005e FFF7FEFF 		bl	CDC_Transmit_FS
 141              	.LVL7:
  69:Core/Src/my_application.c ****   HAL_Delay(100);
 142              		.loc 1 69 3 is_stmt 1 view .LVU16
 143 0062 6420     		movs	r0, #100
 144 0064 FFF7FEFF 		bl	HAL_Delay
 145              	.LVL8:
  70:Core/Src/my_application.c ****   VCNL4040_Init(&vcnl4040, &hi2c1, VCNL4040_I2C_ADDR_8BIT);
 146              		.loc 1 70 3 view .LVU17
 147 0068 DFF89881 		ldr	r8, .L9+44
 148 006c C022     		movs	r2, #192
 149 006e 4146     		mov	r1, r8
 150 0070 5D48     		ldr	r0, .L9+16
 151 0072 FFF7FEFF 		bl	VCNL4040_Init
 152              	.LVL9:
  71:Core/Src/my_application.c ****   strcpy(msg, "INIT:VCNL4040 OK\n");
 153              		.loc 1 71 3 view .LVU18
 154 0076 2746     		mov	r7, r4
 155 0078 5C4E     		ldr	r6, .L9+20
 156 007a 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 157 007c 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 158 007e 3368     		ldr	r3, [r6]
 159 0080 2B80     		strh	r3, [r5]	@ movhi
  72:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 160              		.loc 1 72 3 view .LVU19
 161              		.loc 1 72 34 is_stmt 0 view .LVU20
 162 0082 2046     		mov	r0, r4
 163 0084 FFF7FEFF 		bl	strlen
 164              	.LVL10:
 165              		.loc 1 72 3 view .LVU21
 166 0088 81B2     		uxth	r1, r0
ARM GAS  /tmp/cclqLhTN.s 			page 6


 167 008a 2046     		mov	r0, r4
 168 008c FFF7FEFF 		bl	CDC_Transmit_FS
 169              	.LVL11:
  73:Core/Src/my_application.c ****   HAL_Delay(100);
 170              		.loc 1 73 3 is_stmt 1 view .LVU22
 171 0090 6420     		movs	r0, #100
 172 0092 FFF7FEFF 		bl	HAL_Delay
 173              	.LVL12:
  74:Core/Src/my_application.c **** 
  75:Core/Src/my_application.c ****   // Step 2: 初始化ICM42688
  76:Core/Src/my_application.c ****   strcpy(msg, "INIT:ICM42688...\n");
 174              		.loc 1 76 3 view .LVU23
 175 0096 2746     		mov	r7, r4
 176 0098 554E     		ldr	r6, .L9+24
 177 009a 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 178 009c 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 179 009e 3368     		ldr	r3, [r6]
 180 00a0 2B80     		strh	r3, [r5]	@ movhi
  77:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 181              		.loc 1 77 3 view .LVU24
 182              		.loc 1 77 34 is_stmt 0 view .LVU25
 183 00a2 2046     		mov	r0, r4
 184 00a4 FFF7FEFF 		bl	strlen
 185              	.LVL13:
 186              		.loc 1 77 3 view .LVU26
 187 00a8 81B2     		uxth	r1, r0
 188 00aa 2046     		mov	r0, r4
 189 00ac FFF7FEFF 		bl	CDC_Transmit_FS
 190              	.LVL14:
  78:Core/Src/my_application.c ****   HAL_Delay(100);
 191              		.loc 1 78 3 is_stmt 1 view .LVU27
 192 00b0 6420     		movs	r0, #100
 193 00b2 FFF7FEFF 		bl	HAL_Delay
 194              	.LVL15:
  79:Core/Src/my_application.c ****   ICM42688_Init(&icm42688, &hi2c1, ICM42688_ADDR_68);
 195              		.loc 1 79 3 view .LVU28
 196 00b6 D022     		movs	r2, #208
 197 00b8 4146     		mov	r1, r8
 198 00ba 4E48     		ldr	r0, .L9+28
 199 00bc FFF7FEFF 		bl	ICM42688_Init
 200              	.LVL16:
  80:Core/Src/my_application.c ****   strcpy(msg, "INIT:ICM42688 OK\n");
 201              		.loc 1 80 3 view .LVU29
 202 00c0 2746     		mov	r7, r4
 203 00c2 4D4E     		ldr	r6, .L9+32
 204 00c4 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 205 00c6 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 206 00c8 3368     		ldr	r3, [r6]
 207 00ca 2B80     		strh	r3, [r5]	@ movhi
  81:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 208              		.loc 1 81 3 view .LVU30
 209              		.loc 1 81 34 is_stmt 0 view .LVU31
 210 00cc 2046     		mov	r0, r4
 211 00ce FFF7FEFF 		bl	strlen
 212              	.LVL17:
 213              		.loc 1 81 3 view .LVU32
 214 00d2 81B2     		uxth	r1, r0
ARM GAS  /tmp/cclqLhTN.s 			page 7


 215 00d4 2046     		mov	r0, r4
 216 00d6 FFF7FEFF 		bl	CDC_Transmit_FS
 217              	.LVL18:
  82:Core/Src/my_application.c ****   HAL_Delay(100);
 218              		.loc 1 82 3 is_stmt 1 view .LVU33
 219 00da 6420     		movs	r0, #100
 220 00dc FFF7FEFF 		bl	HAL_Delay
 221              	.LVL19:
  83:Core/Src/my_application.c **** 
  84:Core/Src/my_application.c ****   // Step 3: 初始化8个BME280传感器（跳过损坏的[3]）
  85:Core/Src/my_application.c ****   for (int i = 0; i < 8; i++) {
 222              		.loc 1 85 3 view .LVU34
 223              	.LBB2:
 224              		.loc 1 85 8 view .LVU35
 225              		.loc 1 85 12 is_stmt 0 view .LVU36
 226 00e0 0024     		movs	r4, #0
 227              		.loc 1 85 3 view .LVU37
 228 00e2 0DE0     		b	.L2
 229              	.LVL20:
 230              	.L8:
 231              	.LBB3:
 232              	.LBB4:
  86:Core/Src/my_application.c ****     if (i == 3) {
  87:Core/Src/my_application.c ****       int len = sprintf(msg, "INIT:BME280[%d] SKIPPED (damaged)\n", i);
 233              		.loc 1 87 7 is_stmt 1 view .LVU38
 234              		.loc 1 87 17 is_stmt 0 view .LVU39
 235 00e4 3C4D     		ldr	r5, .L9
 236 00e6 2246     		mov	r2, r4
 237 00e8 4449     		ldr	r1, .L9+36
 238 00ea 2846     		mov	r0, r5
 239 00ec FFF7FEFF 		bl	sprintf
 240              	.LVL21:
  88:Core/Src/my_application.c ****       CDC_Transmit_FS((uint8_t*)msg, len);
 241              		.loc 1 88 7 is_stmt 1 view .LVU40
 242 00f0 2121     		movs	r1, #33
 243 00f2 2846     		mov	r0, r5
 244 00f4 FFF7FEFF 		bl	CDC_Transmit_FS
 245              	.LVL22:
  89:Core/Src/my_application.c ****       HAL_Delay(50);
 246              		.loc 1 89 7 view .LVU41
 247 00f8 3220     		movs	r0, #50
 248 00fa FFF7FEFF 		bl	HAL_Delay
 249              	.LVL23:
  90:Core/Src/my_application.c ****       continue;
 250              		.loc 1 90 7 view .LVU42
 251              	.L4:
 252              		.loc 1 90 7 is_stmt 0 view .LVU43
 253              	.LBE4:
 254              	.LBE3:
  85:Core/Src/my_application.c ****     if (i == 3) {
 255              		.loc 1 85 26 is_stmt 1 discriminator 2 view .LVU44
  85:Core/Src/my_application.c ****     if (i == 3) {
 256              		.loc 1 85 27 is_stmt 0 discriminator 2 view .LVU45
 257 00fe 0134     		adds	r4, r4, #1
 258              	.LVL24:
 259              	.L2:
  85:Core/Src/my_application.c ****     if (i == 3) {
ARM GAS  /tmp/cclqLhTN.s 			page 8


 260              		.loc 1 85 19 is_stmt 1 discriminator 1 view .LVU46
  85:Core/Src/my_application.c ****     if (i == 3) {
 261              		.loc 1 85 3 is_stmt 0 discriminator 1 view .LVU47
 262 0100 072C     		cmp	r4, #7
 263 0102 27DC     		bgt	.L7
 264              	.LBB5:
  86:Core/Src/my_application.c ****       int len = sprintf(msg, "INIT:BME280[%d] SKIPPED (damaged)\n", i);
 265              		.loc 1 86 5 is_stmt 1 view .LVU48
  86:Core/Src/my_application.c ****       int len = sprintf(msg, "INIT:BME280[%d] SKIPPED (damaged)\n", i);
 266              		.loc 1 86 8 is_stmt 0 view .LVU49
 267 0104 032C     		cmp	r4, #3
 268 0106 EDD0     		beq	.L8
  91:Core/Src/my_application.c ****     }
  92:Core/Src/my_application.c **** 
  93:Core/Src/my_application.c ****     int len = sprintf(msg, "INIT:BME280[%d]...\n", i);
 269              		.loc 1 93 5 is_stmt 1 view .LVU50
 270              		.loc 1 93 15 is_stmt 0 view .LVU51
 271 0108 334D     		ldr	r5, .L9
 272 010a 2246     		mov	r2, r4
 273 010c 3C49     		ldr	r1, .L9+40
 274 010e 2846     		mov	r0, r5
 275 0110 FFF7FEFF 		bl	sprintf
 276              	.LVL25:
  94:Core/Src/my_application.c ****     CDC_Transmit_FS((uint8_t*)msg, len);
 277              		.loc 1 94 5 is_stmt 1 view .LVU52
 278 0114 1221     		movs	r1, #18
 279 0116 2846     		mov	r0, r5
 280 0118 FFF7FEFF 		bl	CDC_Transmit_FS
 281              	.LVL26:
  95:Core/Src/my_application.c ****     HAL_Delay(50);
 282              		.loc 1 95 5 view .LVU53
 283 011c 3220     		movs	r0, #50
 284 011e FFF7FEFF 		bl	HAL_Delay
 285              	.LVL27:
  96:Core/Src/my_application.c **** 
  97:Core/Src/my_application.c ****     BME280_Init(&bme[i], &hi2c1, TCA9548A_ADDR_70, i, BME280_ADDR_76);
 286              		.loc 1 97 5 view .LVU54
 287 0122 04EB4400 		add	r0, r4, r4, lsl #1
 288 0126 EC23     		movs	r3, #236
 289 0128 0093     		str	r3, [sp]
 290 012a E3B2     		uxtb	r3, r4
 291 012c E022     		movs	r2, #224
 292 012e 3549     		ldr	r1, .L9+44
 293 0130 354E     		ldr	r6, .L9+48
 294 0132 06EB0010 		add	r0, r6, r0, lsl #4
 295 0136 FFF7FEFF 		bl	BME280_Init
 296              	.LVL28:
  98:Core/Src/my_application.c **** 
  99:Core/Src/my_application.c ****     len = sprintf(msg, "INIT:BME280[%d] OK\n", i);
 297              		.loc 1 99 5 view .LVU55
 298              		.loc 1 99 11 is_stmt 0 view .LVU56
 299 013a 2246     		mov	r2, r4
 300 013c 3349     		ldr	r1, .L9+52
 301 013e 2846     		mov	r0, r5
 302 0140 FFF7FEFF 		bl	sprintf
 303              	.LVL29:
 100:Core/Src/my_application.c ****     CDC_Transmit_FS((uint8_t*)msg, len);
ARM GAS  /tmp/cclqLhTN.s 			page 9


 304              		.loc 1 100 5 is_stmt 1 view .LVU57
 305 0144 1221     		movs	r1, #18
 306 0146 2846     		mov	r0, r5
 307 0148 FFF7FEFF 		bl	CDC_Transmit_FS
 308              	.LVL30:
 101:Core/Src/my_application.c ****     HAL_Delay(50);
 309              		.loc 1 101 5 view .LVU58
 310 014c 3220     		movs	r0, #50
 311 014e FFF7FEFF 		bl	HAL_Delay
 312              	.LVL31:
 313 0152 D4E7     		b	.L4
 314              	.LVL32:
 315              	.L7:
 316              		.loc 1 101 5 is_stmt 0 view .LVU59
 317              	.LBE5:
 318              	.LBE2:
 102:Core/Src/my_application.c ****   }
 103:Core/Src/my_application.c **** 
 104:Core/Src/my_application.c ****   // Step 4: 初始化麦克风（I2S）
 105:Core/Src/my_application.c ****   strcpy(msg, "INIT:MICROPHONE...\n");
 319              		.loc 1 105 3 is_stmt 1 view .LVU60
 320 0154 204E     		ldr	r6, .L9
 321 0156 3446     		mov	r4, r6
 322              	.LVL33:
 323              		.loc 1 105 3 is_stmt 0 view .LVU61
 324 0158 2D4D     		ldr	r5, .L9+56
 325 015a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 326 015c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 327 015e 2B68     		ldr	r3, [r5]
 328 0160 2360     		str	r3, [r4]
 106:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 329              		.loc 1 106 3 is_stmt 1 view .LVU62
 330              		.loc 1 106 34 is_stmt 0 view .LVU63
 331 0162 3046     		mov	r0, r6
 332 0164 FFF7FEFF 		bl	strlen
 333              	.LVL34:
 334              		.loc 1 106 3 view .LVU64
 335 0168 81B2     		uxth	r1, r0
 336 016a 3046     		mov	r0, r6
 337 016c FFF7FEFF 		bl	CDC_Transmit_FS
 338              	.LVL35:
 107:Core/Src/my_application.c ****   HAL_Delay(100);
 339              		.loc 1 107 3 is_stmt 1 view .LVU65
 340 0170 6420     		movs	r0, #100
 341 0172 FFF7FEFF 		bl	HAL_Delay
 342              	.LVL36:
 108:Core/Src/my_application.c ****   MIC_Init(&mic, &hi2s1);
 343              		.loc 1 108 3 view .LVU66
 344 0176 274D     		ldr	r5, .L9+60
 345 0178 2749     		ldr	r1, .L9+64
 346 017a 2846     		mov	r0, r5
 347 017c FFF7FEFF 		bl	MIC_Init
 348              	.LVL37:
 109:Core/Src/my_application.c ****   MIC_Start(&mic);
 349              		.loc 1 109 3 view .LVU67
 350 0180 2846     		mov	r0, r5
 351 0182 FFF7FEFF 		bl	MIC_Start
ARM GAS  /tmp/cclqLhTN.s 			page 10


 352              	.LVL38:
 110:Core/Src/my_application.c ****   strcpy(msg, "INIT:MICROPHONE OK\n");
 353              		.loc 1 110 3 view .LVU68
 354 0186 3746     		mov	r7, r6
 355 0188 244D     		ldr	r5, .L9+68
 356 018a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 357 018c 0FC7     		stmia	r7!, {r0, r1, r2, r3}
 358 018e 2B68     		ldr	r3, [r5]
 359 0190 2360     		str	r3, [r4]
 111:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 360              		.loc 1 111 3 view .LVU69
 361              		.loc 1 111 34 is_stmt 0 view .LVU70
 362 0192 3046     		mov	r0, r6
 363 0194 FFF7FEFF 		bl	strlen
 364              	.LVL39:
 365              		.loc 1 111 3 view .LVU71
 366 0198 81B2     		uxth	r1, r0
 367 019a 3046     		mov	r0, r6
 368 019c FFF7FEFF 		bl	CDC_Transmit_FS
 369              	.LVL40:
 112:Core/Src/my_application.c ****   HAL_Delay(100);
 370              		.loc 1 112 3 is_stmt 1 view .LVU72
 371 01a0 6420     		movs	r0, #100
 372 01a2 FFF7FEFF 		bl	HAL_Delay
 373              	.LVL41:
 113:Core/Src/my_application.c **** 
 114:Core/Src/my_application.c ****   strcpy(msg, "========== ALL SENSORS READY ==========\n");
 374              		.loc 1 114 3 view .LVU73
 375 01a6 3446     		mov	r4, r6
 376 01a8 1D4D     		ldr	r5, .L9+72
 377 01aa 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 378 01ac 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 379 01ae 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 380 01b0 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 381 01b2 95E80700 		ldm	r5, {r0, r1, r2}
 382 01b6 03C4     		stmia	r4!, {r0, r1}
 383 01b8 2270     		strb	r2, [r4]
 115:Core/Src/my_application.c ****   CDC_Transmit_FS((uint8_t*)msg, strlen(msg));
 384              		.loc 1 115 3 view .LVU74
 385              		.loc 1 115 34 is_stmt 0 view .LVU75
 386 01ba 3046     		mov	r0, r6
 387 01bc FFF7FEFF 		bl	strlen
 388              	.LVL42:
 389              		.loc 1 115 3 view .LVU76
 390 01c0 81B2     		uxth	r1, r0
 391 01c2 3046     		mov	r0, r6
 392 01c4 FFF7FEFF 		bl	CDC_Transmit_FS
 393              	.LVL43:
 116:Core/Src/my_application.c ****   HAL_Delay(500);
 394              		.loc 1 116 3 is_stmt 1 view .LVU77
 395 01c8 4FF4FA70 		mov	r0, #500
 396 01cc FFF7FEFF 		bl	HAL_Delay
 397              	.LVL44:
 117:Core/Src/my_application.c **** 
 118:Core/Src/my_application.c **** #ifdef ENABLE_PROFILING
 119:Core/Src/my_application.c ****   DWT_Init();  // Enable cycle counter for performance profiling
 120:Core/Src/my_application.c **** #endif
ARM GAS  /tmp/cclqLhTN.s 			page 11


 121:Core/Src/my_application.c **** }
 398              		.loc 1 121 1 is_stmt 0 view .LVU78
 399 01d0 02B0     		add	sp, sp, #8
 400              	.LCFI2:
 401              		.cfi_def_cfa_offset 24
 402              		@ sp needed
 403 01d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 404              	.L10:
 405 01d6 00BF     		.align	2
 406              	.L9:
 407 01d8 00000000 		.word	.LANCHOR0
 408 01dc 00000000 		.word	.LC0
 409 01e0 14000000 		.word	.LC1
 410 01e4 28000000 		.word	.LC2
 411 01e8 00000000 		.word	vcnl4040
 412 01ec 3C000000 		.word	.LC3
 413 01f0 50000000 		.word	.LC4
 414 01f4 00000000 		.word	icm42688
 415 01f8 64000000 		.word	.LC5
 416 01fc 78000000 		.word	.LC6
 417 0200 9C000000 		.word	.LC7
 418 0204 00000000 		.word	hi2c1
 419 0208 00000000 		.word	.LANCHOR1
 420 020c B0000000 		.word	.LC8
 421 0210 C4000000 		.word	.LC9
 422 0214 00000000 		.word	mic
 423 0218 00000000 		.word	hi2s1
 424 021c D8000000 		.word	.LC10
 425 0220 EC000000 		.word	.LC11
 426              		.cfi_endproc
 427              	.LFE138:
 429              		.section	.rodata.My_Application_Run.str1.4,"aMS",%progbits,1
 430              		.align	2
 431              	.LC12:
 432 0000 25752C25 		.ascii	"%u,%u,%.2f,%.2f,%.2f,%.2f,%.2f,%.2f,%.2f,%.1f,%.1f,"
 432      752C252E 
 432      32662C25 
 432      2E32662C 
 432      252E3266 
 433 0033 252E3166 		.ascii	"%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%"
 433      2C252E31 
 433      662C252E 
 433      31662C25 
 433      2E31662C 
 434 0066 2E31662C 		.ascii	".1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%."
 434      252E3166 
 434      2C252E31 
 434      662C252E 
 434      31662C25 
 435 0099 31662C25 		.ascii	"1f,%.1f,%ld\012\000"
 435      2E31662C 
 435      256C640A 
 435      00
 436              		.global	__aeabi_f2d
 437              		.section	.text.My_Application_Run,"ax",%progbits
 438              		.align	1
 439              		.global	My_Application_Run
ARM GAS  /tmp/cclqLhTN.s 			page 12


 440              		.syntax unified
 441              		.thumb
 442              		.thumb_func
 443              		.fpu fpv4-sp-d16
 445              	My_Application_Run:
 446              	.LFB139:
 122:Core/Src/my_application.c **** 
 123:Core/Src/my_application.c **** /**
 124:Core/Src/my_application.c ****   * @brief  Main sensor reading loop (infinite)
 125:Core/Src/my_application.c ****   * @retval None (never returns)
 126:Core/Src/my_application.c ****   */
 127:Core/Src/my_application.c **** void My_Application_Run(void)
 128:Core/Src/my_application.c **** {
 447              		.loc 1 128 1 is_stmt 1 view -0
 448              		.cfi_startproc
 449              		@ args = 0, pretend = 0, frame = 40
 450              		@ frame_needed = 0, uses_anonymous_args = 0
 451 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 452              	.LCFI3:
 453              		.cfi_def_cfa_offset 36
 454              		.cfi_offset 4, -36
 455              		.cfi_offset 5, -32
 456              		.cfi_offset 6, -28
 457              		.cfi_offset 7, -24
 458              		.cfi_offset 8, -20
 459              		.cfi_offset 9, -16
 460              		.cfi_offset 10, -12
 461              		.cfi_offset 11, -8
 462              		.cfi_offset 14, -4
 463 0004 2DED108B 		vpush.64	{d8, d9, d10, d11, d12, d13, d14, d15}
 464              	.LCFI4:
 465              		.cfi_def_cfa_offset 100
 466              		.cfi_offset 80, -100
 467              		.cfi_offset 81, -96
 468              		.cfi_offset 82, -92
 469              		.cfi_offset 83, -88
 470              		.cfi_offset 84, -84
 471              		.cfi_offset 85, -80
 472              		.cfi_offset 86, -76
 473              		.cfi_offset 87, -72
 474              		.cfi_offset 88, -68
 475              		.cfi_offset 89, -64
 476              		.cfi_offset 90, -60
 477              		.cfi_offset 91, -56
 478              		.cfi_offset 92, -52
 479              		.cfi_offset 93, -48
 480              		.cfi_offset 94, -44
 481              		.cfi_offset 95, -40
 482 0008 CBB0     		sub	sp, sp, #300
 483              	.LCFI5:
 484              		.cfi_def_cfa_offset 400
 129:Core/Src/my_application.c **** 
 130:Core/Src/my_application.c **** 
 131:Core/Src/my_application.c ****   // // 传感器数据变量
 132:Core/Src/my_application.c ****   uint16_t als = 0, ps = 0;
 485              		.loc 1 132 3 view .LVU80
 486              		.loc 1 132 12 is_stmt 0 view .LVU81
ARM GAS  /tmp/cclqLhTN.s 			page 13


 487 000a 0023     		movs	r3, #0
 488 000c ADF82631 		strh	r3, [sp, #294]	@ movhi
 489              		.loc 1 132 21 view .LVU82
 490 0010 ADF82431 		strh	r3, [sp, #292]	@ movhi
 133:Core/Src/my_application.c ****   ICM42688_ScaledData accel = {0}, gyro = {0};
 491              		.loc 1 133 3 is_stmt 1 view .LVU83
 492              		.loc 1 133 23 is_stmt 0 view .LVU84
 493 0014 4693     		str	r3, [sp, #280]
 494 0016 4793     		str	r3, [sp, #284]
 495 0018 4893     		str	r3, [sp, #288]
 496              		.loc 1 133 36 view .LVU85
 497 001a 4393     		str	r3, [sp, #268]
 498 001c 4493     		str	r3, [sp, #272]
 499 001e 4593     		str	r3, [sp, #276]
 134:Core/Src/my_application.c ****   float imu_temp = 0;
 500              		.loc 1 134 3 is_stmt 1 view .LVU86
 501              		.loc 1 134 9 is_stmt 0 view .LVU87
 502 0020 0023     		movs	r3, #0
 503 0022 4293     		str	r3, [sp, #264]	@ float
 504 0024 0EE1     		b	.L13
 505              	.L15:
 506              	.LBB6:
 135:Core/Src/my_application.c **** 
 136:Core/Src/my_application.c ****   // BME280数据缓存（静态变量，保留上次的值）
 137:Core/Src/my_application.c ****   static float temp[8] = {28.0f, 28.0f, 28.0f, 28.0f, 28.0f, 28.0f, 28.0f, 28.0f};
 138:Core/Src/my_application.c ****   static float hum[8] = {27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f};
 139:Core/Src/my_application.c ****   static float press[8] = {1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f};
 140:Core/Src/my_application.c **** 
 141:Core/Src/my_application.c ****   // 轮询索引（静态变量，每次循环递增）
 142:Core/Src/my_application.c ****   static int bme_index = 0;
 143:Core/Src/my_application.c **** 
 144:Core/Src/my_application.c ****   static char msg[512];
 145:Core/Src/my_application.c **** 
 146:Core/Src/my_application.c ****   while (1)
 147:Core/Src/my_application.c ****   {
 148:Core/Src/my_application.c **** 
 149:Core/Src/my_application.c ****     VCNL4040_ReadALS(&vcnl4040, &als);
 150:Core/Src/my_application.c **** 
 151:Core/Src/my_application.c ****     VCNL4040_ReadPS(&vcnl4040, &ps);
 152:Core/Src/my_application.c **** 
 153:Core/Src/my_application.c ****     ICM42688_ReadAll(&icm42688, &accel, &gyro, &imu_temp);
 154:Core/Src/my_application.c **** 
 155:Core/Src/my_application.c **** 
 156:Core/Src/my_application.c ****     // === 3. 轮询读取单个BME280 (温湿度和气压) ===
 157:Core/Src/my_application.c ****     if (bme_index == 3) {
 158:Core/Src/my_application.c ****       // BME280[3]损坏，使用常量值（已在初始化时设置）
 159:Core/Src/my_application.c ****     } else {
 160:Core/Src/my_application.c ****       // 读取当前索引的BME280传感器
 161:Core/Src/my_application.c ****       if (TCA9548A_SelectChannel(&hi2c1, TCA9548A_ADDR_70, bme_index) == HAL_OK) {
 162:Core/Src/my_application.c ****         BME280_ReadData(&bme[bme_index], &temp[bme_index], &hum[bme_index], &press[bme_index]);
 507              		.loc 1 162 9 is_stmt 1 view .LVU88
 508              		.loc 1 162 29 is_stmt 0 view .LVU89
 509 0026 964B     		ldr	r3, .L16
 510 0028 1968     		ldr	r1, [r3]
 511              		.loc 1 162 9 view .LVU90
 512 002a 01EB4104 		add	r4, r1, r1, lsl #1
 513 002e 954B     		ldr	r3, .L16+4
ARM GAS  /tmp/cclqLhTN.s 			page 14


 514 0030 03EB8103 		add	r3, r3, r1, lsl #2
 515 0034 944A     		ldr	r2, .L16+8
 516 0036 02EB8102 		add	r2, r2, r1, lsl #2
 517 003a 9448     		ldr	r0, .L16+12
 518 003c 00EB8101 		add	r1, r0, r1, lsl #2
 519 0040 9348     		ldr	r0, .L16+16
 520 0042 00EB0410 		add	r0, r0, r4, lsl #4
 521 0046 FFF7FEFF 		bl	BME280_ReadData
 522              	.LVL45:
 523              	.L12:
 163:Core/Src/my_application.c ****       }
 164:Core/Src/my_application.c ****       // I2C切换失败时保留旧值，不更新
 165:Core/Src/my_application.c ****     }
 166:Core/Src/my_application.c ****     // 切换到下一个传感器（循环0-7）
 167:Core/Src/my_application.c ****     bme_index = (bme_index + 1) % 8;
 524              		.loc 1 167 5 is_stmt 1 view .LVU91
 525              		.loc 1 167 28 is_stmt 0 view .LVU92
 526 004a 8D49     		ldr	r1, .L16
 527 004c 0B68     		ldr	r3, [r1]
 528 004e 0133     		adds	r3, r3, #1
 529              		.loc 1 167 33 view .LVU93
 530 0050 5A42     		rsbs	r2, r3, #0
 531 0052 03F00703 		and	r3, r3, #7
 532 0056 02F00702 		and	r2, r2, #7
 533 005a 58BF     		it	pl
 534 005c 5342     		rsbpl	r3, r2, #0
 535              		.loc 1 167 15 view .LVU94
 536 005e 0B60     		str	r3, [r1]
 168:Core/Src/my_application.c **** 
 169:Core/Src/my_application.c ****     // === 4. 输出CSV格式数据 ===
 170:Core/Src/my_application.c ****     int len = sprintf(msg,
 537              		.loc 1 170 5 is_stmt 1 view .LVU95
 171:Core/Src/my_application.c ****       "%u,%u,"  // ALS, PS
 172:Core/Src/my_application.c ****       "%.2f,%.2f,%.2f,%.2f,%.2f,%.2f,"  // Accel_X/Y/Z, Gyro_X/Y/Z
 173:Core/Src/my_application.c ****       "%.2f,"  // IMU_Temp
 174:Core/Src/my_application.c ****       "%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,"  // Temp[0-7]
 175:Core/Src/my_application.c ****       "%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,"  // Hum[0-7]
 176:Core/Src/my_application.c ****       "%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,%.1f,"  // Press[0-7]
 177:Core/Src/my_application.c ****       "%ld"  // Audio_Result_Left
 178:Core/Src/my_application.c ****       "\n",  // ← 添加换行符
 179:Core/Src/my_application.c ****       als, ps,
 180:Core/Src/my_application.c ****       accel.x, accel.y, accel.z,
 181:Core/Src/my_application.c ****       gyro.x, gyro.y, gyro.z,
 182:Core/Src/my_application.c ****       imu_temp,
 183:Core/Src/my_application.c ****       temp[0], temp[1], temp[2], temp[3], temp[4], temp[5], temp[6], temp[7],
 538              		.loc 1 183 11 is_stmt 0 view .LVU96
 539 0060 8A4B     		ldr	r3, .L16+12
 540 0062 D3ED007A 		vldr.32	s15, [r3]
 541 0066 CDED407A 		vstr.32	s15, [sp, #256]
 542              		.loc 1 183 20 view .LVU97
 543 006a 5E68     		ldr	r6, [r3, #4]	@ float
 544              		.loc 1 183 29 view .LVU98
 545 006c 9F68     		ldr	r7, [r3, #8]	@ float
 546              		.loc 1 183 38 view .LVU99
 547 006e D3F80C80 		ldr	r8, [r3, #12]	@ float
 548              		.loc 1 183 47 view .LVU100
 549 0072 D3F81090 		ldr	r9, [r3, #16]	@ float
ARM GAS  /tmp/cclqLhTN.s 			page 15


 550              		.loc 1 183 56 view .LVU101
 551 0076 D3F814A0 		ldr	r10, [r3, #20]	@ float
 552              		.loc 1 183 65 view .LVU102
 553 007a D3F818B0 		ldr	fp, [r3, #24]	@ float
 554              		.loc 1 183 74 view .LVU103
 555 007e 93ED078A 		vldr.32	s16, [r3, #28]
 184:Core/Src/my_application.c ****       hum[0], hum[1], hum[2], hum[3], hum[4], hum[5], hum[6], hum[7],
 556              		.loc 1 184 10 view .LVU104
 557 0082 814B     		ldr	r3, .L16+8
 558 0084 D3ED008A 		vldr.32	s17, [r3]
 559              		.loc 1 184 18 view .LVU105
 560 0088 93ED019A 		vldr.32	s18, [r3, #4]
 561              		.loc 1 184 26 view .LVU106
 562 008c D3ED029A 		vldr.32	s19, [r3, #8]
 563              		.loc 1 184 34 view .LVU107
 564 0090 93ED03AA 		vldr.32	s20, [r3, #12]
 565              		.loc 1 184 42 view .LVU108
 566 0094 D3ED04AA 		vldr.32	s21, [r3, #16]
 567              		.loc 1 184 50 view .LVU109
 568 0098 93ED05BA 		vldr.32	s22, [r3, #20]
 569              		.loc 1 184 58 view .LVU110
 570 009c D3ED06BA 		vldr.32	s23, [r3, #24]
 571              		.loc 1 184 66 view .LVU111
 572 00a0 93ED07CA 		vldr.32	s24, [r3, #28]
 185:Core/Src/my_application.c ****       press[0], press[1], press[2], press[3], press[4], press[5], press[6], press[7],
 573              		.loc 1 185 12 view .LVU112
 574 00a4 774B     		ldr	r3, .L16+4
 575 00a6 D3ED00CA 		vldr.32	s25, [r3]
 576              		.loc 1 185 22 view .LVU113
 577 00aa 93ED01DA 		vldr.32	s26, [r3, #4]
 578              		.loc 1 185 32 view .LVU114
 579 00ae D3ED02DA 		vldr.32	s27, [r3, #8]
 580              		.loc 1 185 42 view .LVU115
 581 00b2 93ED03EA 		vldr.32	s28, [r3, #12]
 582              		.loc 1 185 52 view .LVU116
 583 00b6 D3ED04EA 		vldr.32	s29, [r3, #16]
 584              		.loc 1 185 62 view .LVU117
 585 00ba 93ED05FA 		vldr.32	s30, [r3, #20]
 586              		.loc 1 185 72 view .LVU118
 587 00be D3ED06FA 		vldr.32	s31, [r3, #24]
 170:Core/Src/my_application.c ****       "%u,%u,"  // ALS, PS
 588              		.loc 1 170 15 view .LVU119
 589 00c2 BDF82451 		ldrh	r5, [sp, #292]
 590 00c6 BDF82621 		ldrh	r2, [sp, #294]
 591 00ca 4192     		str	r2, [sp, #260]
 592 00cc 714C     		ldr	r4, .L16+20
 593 00ce 724A     		ldr	r2, .L16+24
 594 00d0 5268     		ldr	r2, [r2, #4]
 595 00d2 3E92     		str	r2, [sp, #248]
 596 00d4 D869     		ldr	r0, [r3, #28]	@ float
 597 00d6 FFF7FEFF 		bl	__aeabi_f2d
 598              	.LVL46:
 599 00da CDE93C01 		strd	r0, [sp, #240]
 600 00de 1FEE900A 		vmov	r0, s31
 601 00e2 FFF7FEFF 		bl	__aeabi_f2d
 602              	.LVL47:
 603 00e6 CDE93A01 		strd	r0, [sp, #232]
ARM GAS  /tmp/cclqLhTN.s 			page 16


 604 00ea 1FEE100A 		vmov	r0, s30
 605 00ee FFF7FEFF 		bl	__aeabi_f2d
 606              	.LVL48:
 607 00f2 CDE93801 		strd	r0, [sp, #224]
 608 00f6 1EEE900A 		vmov	r0, s29
 609 00fa FFF7FEFF 		bl	__aeabi_f2d
 610              	.LVL49:
 611 00fe CDE93601 		strd	r0, [sp, #216]
 612 0102 1EEE100A 		vmov	r0, s28
 613 0106 FFF7FEFF 		bl	__aeabi_f2d
 614              	.LVL50:
 615 010a CDE93401 		strd	r0, [sp, #208]
 616 010e 1DEE900A 		vmov	r0, s27
 617 0112 FFF7FEFF 		bl	__aeabi_f2d
 618              	.LVL51:
 619 0116 CDE93201 		strd	r0, [sp, #200]
 620 011a 1DEE100A 		vmov	r0, s26
 621 011e FFF7FEFF 		bl	__aeabi_f2d
 622              	.LVL52:
 623 0122 CDE93001 		strd	r0, [sp, #192]
 624 0126 1CEE900A 		vmov	r0, s25
 625 012a FFF7FEFF 		bl	__aeabi_f2d
 626              	.LVL53:
 627 012e CDE92E01 		strd	r0, [sp, #184]
 628 0132 1CEE100A 		vmov	r0, s24
 629 0136 FFF7FEFF 		bl	__aeabi_f2d
 630              	.LVL54:
 631 013a CDE92C01 		strd	r0, [sp, #176]
 632 013e 1BEE900A 		vmov	r0, s23
 633 0142 FFF7FEFF 		bl	__aeabi_f2d
 634              	.LVL55:
 635 0146 CDE92A01 		strd	r0, [sp, #168]
 636 014a 1BEE100A 		vmov	r0, s22
 637 014e FFF7FEFF 		bl	__aeabi_f2d
 638              	.LVL56:
 639 0152 CDE92801 		strd	r0, [sp, #160]
 640 0156 1AEE900A 		vmov	r0, s21
 641 015a FFF7FEFF 		bl	__aeabi_f2d
 642              	.LVL57:
 643 015e CDE92601 		strd	r0, [sp, #152]
 644 0162 1AEE100A 		vmov	r0, s20
 645 0166 FFF7FEFF 		bl	__aeabi_f2d
 646              	.LVL58:
 647 016a CDE92401 		strd	r0, [sp, #144]
 648 016e 19EE900A 		vmov	r0, s19
 649 0172 FFF7FEFF 		bl	__aeabi_f2d
 650              	.LVL59:
 651 0176 CDE92201 		strd	r0, [sp, #136]
 652 017a 19EE100A 		vmov	r0, s18
 653 017e FFF7FEFF 		bl	__aeabi_f2d
 654              	.LVL60:
 655 0182 CDE92001 		strd	r0, [sp, #128]
 656 0186 18EE900A 		vmov	r0, s17
 657 018a FFF7FEFF 		bl	__aeabi_f2d
 658              	.LVL61:
 659 018e CDE91E01 		strd	r0, [sp, #120]
 660 0192 18EE100A 		vmov	r0, s16
ARM GAS  /tmp/cclqLhTN.s 			page 17


 661 0196 FFF7FEFF 		bl	__aeabi_f2d
 662              	.LVL62:
 663 019a CDE91C01 		strd	r0, [sp, #112]
 664 019e 5846     		mov	r0, fp	@ float
 665 01a0 FFF7FEFF 		bl	__aeabi_f2d
 666              	.LVL63:
 667 01a4 CDE91A01 		strd	r0, [sp, #104]
 668 01a8 5046     		mov	r0, r10	@ float
 669 01aa FFF7FEFF 		bl	__aeabi_f2d
 670              	.LVL64:
 671 01ae CDE91801 		strd	r0, [sp, #96]
 672 01b2 4846     		mov	r0, r9	@ float
 673 01b4 FFF7FEFF 		bl	__aeabi_f2d
 674              	.LVL65:
 675 01b8 CDE91601 		strd	r0, [sp, #88]
 676 01bc 4046     		mov	r0, r8	@ float
 677 01be FFF7FEFF 		bl	__aeabi_f2d
 678              	.LVL66:
 679 01c2 CDE91401 		strd	r0, [sp, #80]
 680 01c6 3846     		mov	r0, r7	@ float
 681 01c8 FFF7FEFF 		bl	__aeabi_f2d
 682              	.LVL67:
 683 01cc CDE91201 		strd	r0, [sp, #72]
 684 01d0 3046     		mov	r0, r6	@ float
 685 01d2 FFF7FEFF 		bl	__aeabi_f2d
 686              	.LVL68:
 687 01d6 CDE91001 		strd	r0, [sp, #64]
 688 01da 4098     		ldr	r0, [sp, #256]	@ float
 689 01dc FFF7FEFF 		bl	__aeabi_f2d
 690              	.LVL69:
 691 01e0 CDE90E01 		strd	r0, [sp, #56]
 692 01e4 4298     		ldr	r0, [sp, #264]	@ float
 693 01e6 FFF7FEFF 		bl	__aeabi_f2d
 694              	.LVL70:
 695 01ea CDE90C01 		strd	r0, [sp, #48]
 696 01ee 4598     		ldr	r0, [sp, #276]	@ float
 697 01f0 FFF7FEFF 		bl	__aeabi_f2d
 698              	.LVL71:
 699 01f4 CDE90A01 		strd	r0, [sp, #40]
 700 01f8 4498     		ldr	r0, [sp, #272]	@ float
 701 01fa FFF7FEFF 		bl	__aeabi_f2d
 702              	.LVL72:
 703 01fe CDE90801 		strd	r0, [sp, #32]
 704 0202 4398     		ldr	r0, [sp, #268]	@ float
 705 0204 FFF7FEFF 		bl	__aeabi_f2d
 706              	.LVL73:
 707 0208 CDE90601 		strd	r0, [sp, #24]
 708 020c 4898     		ldr	r0, [sp, #288]	@ float
 709 020e FFF7FEFF 		bl	__aeabi_f2d
 710              	.LVL74:
 711 0212 CDE90401 		strd	r0, [sp, #16]
 712 0216 4798     		ldr	r0, [sp, #284]	@ float
 713 0218 FFF7FEFF 		bl	__aeabi_f2d
 714              	.LVL75:
 715 021c CDE90201 		strd	r0, [sp, #8]
 716 0220 4698     		ldr	r0, [sp, #280]	@ float
 717 0222 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  /tmp/cclqLhTN.s 			page 18


 718              	.LVL76:
 719 0226 CDE90001 		strd	r0, [sp]
 720 022a 2B46     		mov	r3, r5
 721 022c 419A     		ldr	r2, [sp, #260]
 722 022e 1B49     		ldr	r1, .L16+28
 723 0230 2046     		mov	r0, r4
 724 0232 FFF7FEFF 		bl	sprintf
 725              	.LVL77:
 186:Core/Src/my_application.c ****       mic.audio_result_left
 187:Core/Src/my_application.c ****     );
 188:Core/Src/my_application.c **** 
 189:Core/Src/my_application.c ****     CDC_Transmit_FS((uint8_t*)msg, len);
 726              		.loc 1 189 5 is_stmt 1 view .LVU120
 727 0236 81B2     		uxth	r1, r0
 728 0238 2046     		mov	r0, r4
 729              	.LVL78:
 730              		.loc 1 189 5 is_stmt 0 view .LVU121
 731 023a FFF7FEFF 		bl	CDC_Transmit_FS
 732              	.LVL79:
 190:Core/Src/my_application.c ****     HAL_Delay(1);  // 短暂延迟，避免USB传输过快
 733              		.loc 1 190 5 is_stmt 1 view .LVU122
 734 023e 0120     		movs	r0, #1
 735 0240 FFF7FEFF 		bl	HAL_Delay
 736              	.LVL80:
 737              	.LBE6:
 146:Core/Src/my_application.c ****   {
 738              		.loc 1 146 9 view .LVU123
 739              	.L13:
 137:Core/Src/my_application.c ****   static float hum[8] = {27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f, 27.0f};
 740              		.loc 1 137 3 view .LVU124
 138:Core/Src/my_application.c ****   static float press[8] = {1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f, 1011.0f};
 741              		.loc 1 138 3 view .LVU125
 139:Core/Src/my_application.c **** 
 742              		.loc 1 139 3 view .LVU126
 142:Core/Src/my_application.c **** 
 743              		.loc 1 142 3 view .LVU127
 144:Core/Src/my_application.c **** 
 744              		.loc 1 144 3 view .LVU128
 146:Core/Src/my_application.c ****   {
 745              		.loc 1 146 3 view .LVU129
 746              	.LBB7:
 149:Core/Src/my_application.c **** 
 747              		.loc 1 149 5 view .LVU130
 748 0244 164C     		ldr	r4, .L16+32
 749 0246 0DF59371 		add	r1, sp, #294
 750 024a 2046     		mov	r0, r4
 751 024c FFF7FEFF 		bl	VCNL4040_ReadALS
 752              	.LVL81:
 151:Core/Src/my_application.c **** 
 753              		.loc 1 151 5 view .LVU131
 754 0250 49A9     		add	r1, sp, #292
 755 0252 2046     		mov	r0, r4
 756 0254 FFF7FEFF 		bl	VCNL4040_ReadPS
 757              	.LVL82:
 153:Core/Src/my_application.c **** 
 758              		.loc 1 153 5 view .LVU132
 759 0258 42AB     		add	r3, sp, #264
ARM GAS  /tmp/cclqLhTN.s 			page 19


 760 025a 43AA     		add	r2, sp, #268
 761 025c 46A9     		add	r1, sp, #280
 762 025e 1148     		ldr	r0, .L16+36
 763 0260 FFF7FEFF 		bl	ICM42688_ReadAll
 764              	.LVL83:
 157:Core/Src/my_application.c ****       // BME280[3]损坏，使用常量值（已在初始化时设置）
 765              		.loc 1 157 5 view .LVU133
 157:Core/Src/my_application.c ****       // BME280[3]损坏，使用常量值（已在初始化时设置）
 766              		.loc 1 157 19 is_stmt 0 view .LVU134
 767 0264 064B     		ldr	r3, .L16
 768 0266 1A68     		ldr	r2, [r3]
 157:Core/Src/my_application.c ****       // BME280[3]损坏，使用常量值（已在初始化时设置）
 769              		.loc 1 157 8 view .LVU135
 770 0268 032A     		cmp	r2, #3
 771 026a 3FF4EEAE 		beq	.L12
 161:Core/Src/my_application.c ****         BME280_ReadData(&bme[bme_index], &temp[bme_index], &hum[bme_index], &press[bme_index]);
 772              		.loc 1 161 7 is_stmt 1 view .LVU136
 161:Core/Src/my_application.c ****         BME280_ReadData(&bme[bme_index], &temp[bme_index], &hum[bme_index], &press[bme_index]);
 773              		.loc 1 161 11 is_stmt 0 view .LVU137
 774 026e D2B2     		uxtb	r2, r2
 775 0270 E021     		movs	r1, #224
 776 0272 0D48     		ldr	r0, .L16+40
 777 0274 FFF7FEFF 		bl	TCA9548A_SelectChannel
 778              	.LVL84:
 161:Core/Src/my_application.c ****         BME280_ReadData(&bme[bme_index], &temp[bme_index], &hum[bme_index], &press[bme_index]);
 779              		.loc 1 161 10 view .LVU138
 780 0278 0028     		cmp	r0, #0
 781 027a 7FF4E6AE 		bne	.L12
 782 027e D2E6     		b	.L15
 783              	.L17:
 784              		.align	2
 785              	.L16:
 786 0280 00000000 		.word	.LANCHOR2
 787 0284 00000000 		.word	.LANCHOR3
 788 0288 00000000 		.word	.LANCHOR4
 789 028c 00000000 		.word	.LANCHOR5
 790 0290 00000000 		.word	.LANCHOR1
 791 0294 00000000 		.word	.LANCHOR6
 792 0298 00000000 		.word	mic
 793 029c 00000000 		.word	.LC12
 794 02a0 00000000 		.word	vcnl4040
 795 02a4 00000000 		.word	icm42688
 796 02a8 00000000 		.word	hi2c1
 797              	.LBE7:
 798              		.cfi_endproc
 799              	.LFE139:
 801              		.comm	mic,16,4
 802              		.comm	icm42688,16,4
 803              		.comm	vcnl4040,8,4
 804              		.section	.bss.bme,"aw",%nobits
 805              		.align	2
 806              		.set	.LANCHOR1,. + 0
 809              	bme:
 810 0000 00000000 		.space	384
 810      00000000 
 810      00000000 
 810      00000000 
ARM GAS  /tmp/cclqLhTN.s 			page 20


 810      00000000 
 811              		.section	.bss.bme_index.10751,"aw",%nobits
 812              		.align	2
 813              		.set	.LANCHOR2,. + 0
 816              	bme_index.10751:
 817 0000 00000000 		.space	4
 818              		.section	.bss.msg.10732,"aw",%nobits
 819              		.align	2
 820              		.set	.LANCHOR0,. + 0
 823              	msg.10732:
 824 0000 00000000 		.space	128
 824      00000000 
 824      00000000 
 824      00000000 
 824      00000000 
 825              		.section	.bss.msg.10752,"aw",%nobits
 826              		.align	2
 827              		.set	.LANCHOR6,. + 0
 830              	msg.10752:
 831 0000 00000000 		.space	512
 831      00000000 
 831      00000000 
 831      00000000 
 831      00000000 
 832              		.section	.data.hum.10749,"aw"
 833              		.align	2
 834              		.set	.LANCHOR4,. + 0
 837              	hum.10749:
 838 0000 0000D841 		.word	1104674816
 839 0004 0000D841 		.word	1104674816
 840 0008 0000D841 		.word	1104674816
 841 000c 0000D841 		.word	1104674816
 842 0010 0000D841 		.word	1104674816
 843 0014 0000D841 		.word	1104674816
 844 0018 0000D841 		.word	1104674816
 845 001c 0000D841 		.word	1104674816
 846              		.section	.data.press.10750,"aw"
 847              		.align	2
 848              		.set	.LANCHOR3,. + 0
 851              	press.10750:
 852 0000 00C07C44 		.word	1149026304
 853 0004 00C07C44 		.word	1149026304
 854 0008 00C07C44 		.word	1149026304
 855 000c 00C07C44 		.word	1149026304
 856 0010 00C07C44 		.word	1149026304
 857 0014 00C07C44 		.word	1149026304
 858 0018 00C07C44 		.word	1149026304
 859 001c 00C07C44 		.word	1149026304
 860              		.section	.data.temp.10748,"aw"
 861              		.align	2
 862              		.set	.LANCHOR5,. + 0
 865              	temp.10748:
 866 0000 0000E041 		.word	1105199104
 867 0004 0000E041 		.word	1105199104
 868 0008 0000E041 		.word	1105199104
 869 000c 0000E041 		.word	1105199104
 870 0010 0000E041 		.word	1105199104
ARM GAS  /tmp/cclqLhTN.s 			page 21


 871 0014 0000E041 		.word	1105199104
 872 0018 0000E041 		.word	1105199104
 873 001c 0000E041 		.word	1105199104
 874              		.text
 875              	.Letext0:
 876              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 877              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 878              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 879              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 880              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 881              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 882              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 883              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2s.h"
 884              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 885              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 886              		.file 12 "Core/Inc/vcnl4040_sensor.h"
 887              		.file 13 "Core/Inc/icm42688_sensor.h"
 888              		.file 14 "Core/Inc/microphone_sensor.h"
 889              		.file 15 "Core/Inc/my_application.h"
 890              		.file 16 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 891              		.file 17 "/usr/include/newlib/sys/_types.h"
 892              		.file 18 "/usr/include/newlib/sys/reent.h"
 893              		.file 19 "/usr/include/newlib/sys/lock.h"
 894              		.file 20 "/usr/include/newlib/stdlib.h"
 895              		.file 21 "Core/Inc/i2c.h"
 896              		.file 22 "Core/Inc/i2s.h"
 897              		.file 23 "Core/Inc/usart.h"
 898              		.file 24 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 899              		.file 25 "Core/Inc/humidity_temp_sensor.h"
 900              		.file 26 "Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 901              		.file 27 "USB_DEVICE/App/usbd_cdc_if.h"
 902              		.file 28 "Core/Inc/i2c_error_handler.h"
 903              		.file 29 "Core/Inc/i2c_dma_manager.h"
 904              		.file 30 "/usr/include/newlib/stdio.h"
 905              		.file 31 "/usr/include/newlib/string.h"
 906              		.file 32 "Core/Inc/methods.h"
ARM GAS  /tmp/cclqLhTN.s 			page 22


DEFINED SYMBOLS
                            *ABS*:0000000000000000 my_application.c
     /tmp/cclqLhTN.s:18     .rodata.My_Application_Init.str1.4:0000000000000000 $d
     /tmp/cclqLhTN.s:55     .text.My_Application_Init:0000000000000000 $t
     /tmp/cclqLhTN.s:63     .text.My_Application_Init:0000000000000000 My_Application_Init
     /tmp/cclqLhTN.s:407    .text.My_Application_Init:00000000000001d8 $d
                            *COM*:0000000000000008 vcnl4040
                            *COM*:0000000000000010 icm42688
                            *COM*:0000000000000010 mic
     /tmp/cclqLhTN.s:430    .rodata.My_Application_Run.str1.4:0000000000000000 $d
     /tmp/cclqLhTN.s:438    .text.My_Application_Run:0000000000000000 $t
     /tmp/cclqLhTN.s:445    .text.My_Application_Run:0000000000000000 My_Application_Run
     /tmp/cclqLhTN.s:786    .text.My_Application_Run:0000000000000280 $d
     /tmp/cclqLhTN.s:805    .bss.bme:0000000000000000 $d
     /tmp/cclqLhTN.s:809    .bss.bme:0000000000000000 bme
     /tmp/cclqLhTN.s:812    .bss.bme_index.10751:0000000000000000 $d
     /tmp/cclqLhTN.s:816    .bss.bme_index.10751:0000000000000000 bme_index.10751
     /tmp/cclqLhTN.s:819    .bss.msg.10732:0000000000000000 $d
     /tmp/cclqLhTN.s:823    .bss.msg.10732:0000000000000000 msg.10732
     /tmp/cclqLhTN.s:826    .bss.msg.10752:0000000000000000 $d
     /tmp/cclqLhTN.s:830    .bss.msg.10752:0000000000000000 msg.10752
     /tmp/cclqLhTN.s:833    .data.hum.10749:0000000000000000 $d
     /tmp/cclqLhTN.s:837    .data.hum.10749:0000000000000000 hum.10749
     /tmp/cclqLhTN.s:847    .data.press.10750:0000000000000000 $d
     /tmp/cclqLhTN.s:851    .data.press.10750:0000000000000000 press.10750
     /tmp/cclqLhTN.s:861    .data.temp.10748:0000000000000000 $d
     /tmp/cclqLhTN.s:865    .data.temp.10748:0000000000000000 temp.10748

UNDEFINED SYMBOLS
strlen
CDC_Transmit_FS
RGB_LED_Init
HAL_Delay
VCNL4040_Init
ICM42688_Init
sprintf
BME280_Init
MIC_Init
MIC_Start
hi2c1
hi2s1
__aeabi_f2d
BME280_ReadData
VCNL4040_ReadALS
VCNL4040_ReadPS
ICM42688_ReadAll
TCA9548A_SelectChannel
