# OpenOCD配置文件 - STM32F446RET6
# 使用方法: openocd -f openocd.cfg

# 选择调试接口：ST-Link
# source [find interface/stlink.cfg]
# 尝试使用 stlink-v2.cfg (常见仿真器) 或 stlink-v2-1.cfg (Nucleo板载)
source [find interface/stlink-v2.cfg]

# 配置传输协议：SWD（Serial Wire Debug）
transport select hla_swd

# 选择目标芯片：STM32F4x系列
source [find target/stm32f4x.cfg]

# 可选：设置适配器速度（单位：kHz）
# 较低的速度更稳定，但调试和烧录会更慢
# adapter speed 1800

# 如果使用JTAG接口（取消下面几行的注释）
# source [find interface/stlink.cfg]
# transport select hla_jtag
# source [find target/stm32f4x.cfg]

# GDB服务器配置
# 默认端口：3333（GDB连接端口）
# Telnet端口：4444（OpenOCD命令接口）
# TCL端口：6666（TCL脚本接口）

# 复位配置
# 如果没有连接 RST 线，请使用 none
reset_config none
# reset_config srst_only

# 可选：初始化后的操作
init
# halt

# 可选：烧录后自动复位并运行
# program build/finger.elf verify reset exit
